System.register("chunks:///_virtual/AudioController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var e,o,t,n,r,u,l,c,a,p;return{setters:[function(i){e=i.applyDecoratedDescriptor,o=i.inheritsLoose,t=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){r=i.cclegacy,u=i._decorator,l=i.AudioSource,c=i.AudioClip,a=i.game,p=i.Component}],execute:function(){var s,d,b,f,m,g,h,A,C,S,y,w,z,v,B,T,F,P,_,D,E,L,M,R,k,O,j,x,H,I,J,N,U,W,X,Z,q,G;r._RF.push({},"ca93eMzJT5EUbE91AekzmEX","AudioController",void 0);var K=u.ccclass,Q=u.property;i("AudioController",(s=K("AudioController"),d=Q(l),b=Q(l),f=Q(l),m=Q(c),g=Q(c),h=Q(c),A=Q(c),C=Q(c),S=Q(c),y=Q(c),w=Q(c),z=Q(c),v=Q(c),B=Q(c),T=Q(c),F=Q(c),P=Q(c),s(((G=function(i){function e(){for(var e,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return e=i.call.apply(i,[this].concat(r))||this,t(e,"mainAudioSource",E,n(e)),t(e,"secondAudioSource",L,n(e)),t(e,"thirdAudioSource",M,n(e)),t(e,"bgm01Clip",R,n(e)),t(e,"bgm02Clip",k,n(e)),t(e,"bgm03Clip",O,n(e)),t(e,"bgm04Clip",j,n(e)),t(e,"bgm05Clip",x,n(e)),t(e,"bgm06Clip",H,n(e)),t(e,"bgm07Clip",I,n(e)),t(e,"farBgm",J,n(e)),t(e,"trainClip",N,n(e)),t(e,"wingClip",U,n(e)),t(e,"ziClip",W,n(e)),t(e,"writeClip",X,n(e)),t(e,"footClip",Z,n(e)),t(e,"fireClip",q,n(e)),e}o(e,i);var r=e.prototype;return r.onLoad=function(){null==e.instance?(e.instance=this,a.addPersistRootNode(this.node)):this.node.destroy()},r.start=function(){},r.BeginFire=function(){this.secondAudioSource.clip=this.fireClip,this.secondAudioSource.stop(),this.secondAudioSource.play()},r.BeginTrainAndWing=function(){var i=this;this.secondAudioSource.clip=this.trainClip,this.thirdAudioSource.clip=this.wingClip,this.secondAudioSource.play(),this.thirdAudioSource.play(),setTimeout((function(){i.secondAudioSource.stop(),i.thirdAudioSource.stop()}),4e3)},r.BeginZi=function(){var i=this;this.secondAudioSource.clip=this.ziClip,this.secondAudioSource.play(),setTimeout((function(){i.secondAudioSource.stop()}),1e3)},r.BeginShaSha=function(){var i=this;this.secondAudioSource.clip=this.writeClip,this.secondAudioSource.volume=.1,this.secondAudioSource.play();for(var e=0;e<9;e++)setTimeout((function(){i.secondAudioSource.volume+=.1}),100*e);setTimeout((function(){i.secondAudioSource.stop()}),2e3)},r.BeginMad=function(){var i=this;this.bgmFadeOut(),setTimeout((function(){i.PlayBgm(i.bgm04Clip)}),1500)},r.BeginFoot=function(){var i=this;this.secondAudioSource.clip=this.footClip,this.secondAudioSource.play(),setTimeout((function(){i.secondAudioSource.stop()}),1e3)},r.PlayBgm=function(i){this.mainAudioSource.stop(),this.mainAudioSource.volume=.5,this.mainAudioSource.clip=i,this.mainAudioSource.play()},r.bgmFadeOut=function(){for(var i=this,e=0;e<5;++e)setTimeout((function(){i.mainAudioSource.volume>=0&&(i.mainAudioSource.volume-=.1)}),200*e)},e}(p)).instance=void 0,E=e((D=G).prototype,"mainAudioSource",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(D.prototype,"secondAudioSource",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(D.prototype,"thirdAudioSource",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(D.prototype,"bgm01Clip",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(D.prototype,"bgm02Clip",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(D.prototype,"bgm03Clip",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(D.prototype,"bgm04Clip",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(D.prototype,"bgm05Clip",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(D.prototype,"bgm06Clip",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(D.prototype,"bgm07Clip",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(D.prototype,"farBgm",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(D.prototype,"trainClip",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(D.prototype,"wingClip",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(D.prototype,"ziClip",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(D.prototype,"writeClip",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(D.prototype,"footClip",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(D.prototype,"fireClip",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=D))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/Button.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Wand.ts"],(function(n){"use strict";var t,i,e,o,r,l,a,u,c,s,b,h,f,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,l=n._decorator,a=n.Node,u=n.UITransform,c=n.Vec3,s=n.PolygonCollider2D,b=n.Vec2,h=n.Intersection2D,f=n.Component},function(n){p=n.Wand}],execute:function(){var m,T,y,g,v,C,d,k,w,E,z,B,P,A,I,R,U,_,D,L,S;r._RF.push({},"fb5a6KpQ2VJiZKiwnIJlOby","Button",void 0);var H=l.ccclass,O=l.property;n("Button",(m=H("Button"),T=O(a),y=O(a),g=O(a),v=O(a),C=O(u),d=O(u),k=O(u),w=O(u),E=O(p),m((P=t((B=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=n.call.apply(n,[this].concat(r))||this,e(t,"btn1",P,o(t)),e(t,"btn2",A,o(t)),e(t,"btn3",I,o(t)),e(t,"btn4",R,o(t)),e(t,"uiTransform1",U,o(t)),e(t,"uiTransform2",_,o(t)),e(t,"uiTransform3",D,o(t)),e(t,"uiTransform4",L,o(t)),e(t,"main",S,o(t)),t}i(t,n);var r=t.prototype;return r.onLoad=function(){this.btn1.on(a.EventType.TOUCH_START,this.onClickEvent1,this),this.btn2.on(a.EventType.TOUCH_START,this.onClickEvent2,this),this.btn3.on(a.EventType.TOUCH_START,this.onClickEvent3,this),this.btn4.on(a.EventType.TOUCH_START,this.onClickEvent4,this)},r.onClickEvent1=function(n){this.main.actionable&&this.checkBtnPolygonCollider(this.btn1,this.uiTransform1,n)&&this.main.AttackAndDefense()},r.onClickEvent2=function(n){this.main.actionable&&this.checkBtnPolygonCollider(this.btn2,this.uiTransform2,n)&&this.main.Magic()},r.onClickEvent3=function(n){this.main.actionable&&this.checkBtnPolygonCollider(this.btn3,this.uiTransform3,n)&&this.main.Device()},r.onClickEvent4=function(n){this.main.actionable&&this.checkBtnPolygonCollider(this.btn4,this.uiTransform4,n)&&this.main.ThisRoundEnd()},r.checkBtnPolygonCollider=function(n,t,i){i.getUILocation();var e=new c(i.getUILocation().x,i.getUILocation().y,0),o=n.getComponent(s).points,r=t.convertToNodeSpaceAR(e),l=new b(r.x,r.y);return h.pointInPolygon(l,o)},t}(f)).prototype,"btn1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(B.prototype,"btn2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(B.prototype,"btn3",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(B.prototype,"btn4",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(B.prototype,"uiTransform1",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(B.prototype,"uiTransform2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(B.prototype,"uiTransform3",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(B.prototype,"uiTransform4",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(B.prototype,"main",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=B))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonClick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ChooseGameController.ts","./RoundSystem.ts","./Player.ts","./PlayerAttack.ts","./PromptSystem.ts"],(function(t){"use strict";var e,n,r,o,i,l,u,a,c,s,p,m,f,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,u=t.TextAsset,a=t.Button,c=t.Component},function(t){s=t.ChooseGameController},function(t){p=t.RoundSystem},function(t){m=t.Player},function(t){f=t.PlayerAttack},function(t){y=t.PromptSystem}],execute:function(){var b,h,g,B,C,k,z,P,w,d,A,S,v,G,x,R,_,D,I,j,E,F,H;i._RF.push({},"ca343hH9k5Pt7vjaWXQQ49Y","ButtonClick",void 0);var L=l.ccclass,Q=l.property;t("ButtonClick",(b=L("ButtonClick"),h=Q(p),g=Q(y),B=Q(u),C=Q(s),k=Q(a),z=Q(a),P=Q(a),w=Q(a),d=Q(m),A=Q(f),b((G=e((v=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i))||this,r(e,"roundSystem",G,o(e)),r(e,"PromptSystem",x,o(e)),r(e,"text",R,o(e)),r(e,"chooseGameController",_,o(e)),r(e,"AttackButton",D,o(e)),r(e,"CommunicateButton",I,o(e)),r(e,"ItemsButton",j,o(e)),r(e,"EscapeButton",E,o(e)),r(e,"player",F,o(e)),r(e,"playerAttack",H,o(e)),e.actionable=!1,e}n(e,t);var i=e.prototype;return i.start=function(){},i.update=function(t){},i.Attack=function(){this.chooseGameController.choosePlayerGame()},e}(c)).prototype,"roundSystem",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(v.prototype,"PromptSystem",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(v.prototype,"text",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(v.prototype,"chooseGameController",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(v.prototype,"AttackButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(v.prototype,"CommunicateButton",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(v.prototype,"ItemsButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(v.prototype,"EscapeButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(v.prototype,"player",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(v.prototype,"playerAttack",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=v))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/CameraController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var o,t,n,r,i,s;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,r=e.Vec3,i=e.randomRange,s=e.Component}],execute:function(){var a;t._RF.push({},"b0dbeUfD75JTa3x4LCDc4VU","CameraController",void 0);var c=n.ccclass;n.property,e("CameraController",c("CameraController")(a=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.Shake=function(e,o){for(var t=this,n=new r(this.node.position),s=0;s<e;s+=.05)setTimeout((function(){var e=i(-1,1)*o,s=i(-1,1)*o,a=i(-1,1)*o;t.node.position=new r(e+n.x,s+n.y,a+n.z)}),1e3*s);setTimeout((function(){t.node.position=n}),1e3*e)},t}(s))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/Card.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,n,r,t,o,a,l;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Component}],execute:function(){var u,c,s,p,f,b,d,m,g,y,w,z,h;o._RF.push({},"f75ba2JH2lOzqNZX+xJd2+/","Card",void 0);var v=a.ccclass,C=a.property;e("Card",(u=v("Card"),c=C(String),s=C(Boolean),u((b=i((f=function(e){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,r(i,"cardId",b,t(i)),r(i,"costMana",d,t(i)),r(i,"coolDownTime",m,t(i)),r(i,"damage",g,t(i)),r(i,"defense",y,t(i)),r(i,"damageTimes",w,t(i)),r(i,"introduction",z,t(i)),r(i,"isDevice",h,t(i)),i.main=null,i.currCoolDown=0,i.button=null,i.isChoose=!1,i.isCoolDown=!0,i}return n(i,e),i.prototype.onClickEvent=function(){this.main.onClickEvent(this)},i}(l)).prototype,"cardId",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=i(f.prototype,"costMana",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=i(f.prototype,"coolDownTime",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=i(f.prototype,"damage",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=i(f.prototype,"defense",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=i(f.prototype,"damageTimes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=i(f.prototype,"introduction",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=i(f.prototype,"isDevice",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/ChooseButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ChooseGameController.ts"],(function(t){"use strict";var n,e,o,r,i,u,l,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,u=t._decorator,l=t.Component},function(t){c=t.ChooseGameController}],execute:function(){var a,s,p,f,h,b,C,m;i._RF.push({},"c028961m4lDbrJlnO5/DoBS","ChooseButton",void 0);var y=u.ccclass,d=u.property;t("ChooseButton",(a=y("ChooseButton"),s=d(String),p=d(c),a((b=n((h=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),u=0;u<e;u++)i[u]=arguments[u];return n=t.call.apply(t,[this].concat(i))||this,o(n,"buttonId",b,r(n)),o(n,"introduction",C,r(n)),o(n,"main",m,r(n)),n.isChoose=!1,n}return e(n,t),n.prototype.onClickEvent=function(){this.main.onClickEvent(this)},n}(l)).prototype,"buttonId",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=n(h.prototype,"introduction",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(h.prototype,"main",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/ChooseGameController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyAttack.ts","./PlayerAttack.ts","./StaticData.ts","./RoundSystem.ts"],(function(t){"use strict";var e,i,a,n,r,l,o,s,c,u,b,h,m,g,p,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,o=t.Label,s=t.Node,c=t.Button,u=t.randomRangeInt,b=t.Component},function(t){h=t.EnemyAttack},function(t){m=t.PlayerAttack},function(t){g=t.StaticData},function(t){p=t.RoundSystem,v=t.Turn}],execute:function(){var f,y,L,d,k,B,x,w,G,z,S,C,P,O,E,T,A,I,R,D,_,F,H,j,U,Z,J,M,N,V,Y,q,K,Q,W,X,$,tt,et,it,at,nt,rt,lt,ot,st;r._RF.push({},"ed8c6xD4j9J7YZ5C3Z2GT5V","ChooseGameController",void 0);var ct=l.ccclass,ut=l.property;t("ChooseGameController",(f=ct("ChooseGameController"),y=ut(o),L=ut(o),d=ut(o),k=ut(s),B=ut(s),x=ut(p),w=ut(m),G=ut(h),z=ut(s),S=ut(s),C=ut(s),P=ut(s),O=ut(o),E=ut(s),T=ut(s),A=ut(c),I=ut(c),R=ut(c),D=ut(c),_=ut(c),F=ut(c),f((U=e((j=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,a(e,"turnLabel",U,n(e)),a(e,"gameLabel",Z,n(e)),a(e,"textLabel",J,n(e)),a(e,"textSprite",M,n(e)),a(e,"buttonPanel",N,n(e)),a(e,"isPlayerGame",V,n(e)),a(e,"roundSystem",Y,n(e)),a(e,"playerAttack",q,n(e)),a(e,"enemyattack",K,n(e)),a(e,"background",Q,n(e)),a(e,"firstLevelOptions",W,n(e)),a(e,"secondLevelOptions",X,n(e)),a(e,"escapePanel",$,n(e)),a(e,"escapeLabel",tt,n(e)),a(e,"btn1",et,n(e)),a(e,"btn2",it,n(e)),a(e,"button1",at,n(e)),a(e,"button2",nt,n(e)),a(e,"gameButton1",rt,n(e)),a(e,"gameButton2",lt,n(e)),a(e,"gameButton3",ot,n(e)),a(e,"gameButton4",st,n(e)),e.currentGame=void 0,e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.btn1.on(s.EventType.TOUCH_START,this.onClickEvent1,this),this.btn2.on(s.EventType.TOUCH_START,this.onClickEvent2,this)},r.start=function(){this.buttonPanel.active=!1,this.escapePanel.active=!1,this.button1.interactable=!0,this.button2.interactable=!0},r.choosePlayerGame=function(){switch(this.button1.interactable=!0,this.button2.interactable=!0,this.currentGame=g.miniGameIndex,this.roundSystem.ChangeRound(),this.background.active=!0,this.secondLevelOptions.active=!1,this.firstLevelOptions.active=!0,this.textSprite.active=!1,this.btn2.active=!0,this.isPlayerGame=!0,this.textLabel.string="",this.turnLabel.string="当前回合: 我方回合",g.miniGameIndex){case 0:case 1:this.gameLabel.string="当前小游戏: 俄罗斯方块";break;case 2:this.gameLabel.string="当前小游戏: 俄罗斯轮盘";break;case 3:this.gameLabel.string="当前小游戏: 霍格洛兹魔法杖";break;case 4:this.gameLabel.string="当前小游戏: 搏击拳套"}},r.chooseEnemyGame=function(){switch(this.button1.interactable=!0,this.button2.interactable=!0,this.roundSystem.ChangeRound(),this.background.active=!0,this.secondLevelOptions.active=!1,this.firstLevelOptions.active=!0,this.textSprite.active=!0,this.btn2.active=!1,this.isPlayerGame=!1,this.turnLabel.string="当前回合: 敌方回合",g.gameIndex){case 0:case 1:this.gameLabel.string="当前小游戏: 魔术礼帽",this.textLabel.string="经典的魔术道具，优秀的魔术师（其实是魔法师）可以轻易变出兔子或者，一些，别的什么东西";break;case 2:this.gameLabel.string="当前小游戏: 玩具左轮",this.textLabel.string="又一把，或许可以双持？";break;case 3:this.gameLabel.string="当前小游戏: 地鼠机",this.textLabel.string="真的要拿锤子敲可爱的地鼠吗？当然啦！这多有趣";break;case 4:this.gameLabel.string="当前小游戏: 记忆翻牌",this.textLabel.string="用来锻炼记忆力的翻牌游戏，家庭，聚会就选它吧"}},r.onClickEvent1=function(t){this.background.active=!1,this.secondLevelOptions.active=!1,this.firstLevelOptions.active=!1,this.textSprite.active=!1,this.isPlayerGame?this.playerAttack.ChooseGame():this.enemyattack.ChooseGame()},r.onClickEvent2=function(t){this.secondLevelOptions.active=!0,this.firstLevelOptions.active=!1,this.textSprite.active=!0},r.onClickEvent=function(t){switch(this.currentGame=t.buttonId,t.buttonId){case 1:this.gameButton1.interactable=!1,this.gameButton2.interactable=!0,this.gameButton3.interactable=!0,this.gameButton4.interactable=!0,this.textLabel.string=t.introduction;break;case 2:this.gameButton1.interactable=!0,this.gameButton2.interactable=!1,this.gameButton3.interactable=!0,this.gameButton4.interactable=!0,this.textLabel.string=t.introduction;break;case 3:this.gameButton1.interactable=!0,this.gameButton2.interactable=!0,this.gameButton3.interactable=!1,this.gameButton4.interactable=!0,this.textLabel.string=t.introduction;break;case 4:this.gameButton1.interactable=!0,this.gameButton2.interactable=!0,this.gameButton3.interactable=!0,this.gameButton4.interactable=!1,this.textLabel.string=t.introduction}},r.commitGame=function(){switch(this.background.active=!0,this.secondLevelOptions.active=!1,this.firstLevelOptions.active=!0,this.textSprite.active=!1,g.miniGameIndex=this.currentGame,g.miniGameIndex){case 0:case 1:this.gameLabel.string="当前小游戏: 俄罗斯方块";break;case 2:this.gameLabel.string="当前小游戏: 俄罗斯轮盘";break;case 3:this.gameLabel.string="当前小游戏: 霍格洛兹魔法杖";break;case 4:this.gameLabel.string="当前小游戏: 搏击拳套"}this.gameButton1.interactable=!0,this.gameButton2.interactable=!0,this.gameButton3.interactable=!0,this.gameButton4.interactable=!0,this.textLabel.string=""},r.returnToFirstLevel=function(){this.background.active=!0,this.secondLevelOptions.active=!1,this.firstLevelOptions.active=!0,this.textSprite.active=!1,this.gameButton1.interactable=!0,this.gameButton2.interactable=!0,this.gameButton3.interactable=!0,this.gameButton4.interactable=!0,this.textLabel.string=""},r.PlayerEscape=function(){var t=this;0==u(0,10)?(this.escapeLabel.string="您已逃脱",this.buttonPanel.active=!1,this.escapePanel.active=!0,this.roundSystem.EndScene()):(this.escapeLabel.string="逃脱失败",this.escapePanel.active=!0,this.roundSystem.turn=v.firstEnemyGame,this.chooseEnemyGame(),setTimeout((function(){t.escapePanel.active=!1}),1e3))},e}(b)).prototype,"turnLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(j.prototype,"gameLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(j.prototype,"textLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(j.prototype,"textSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(j.prototype,"buttonPanel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(j.prototype,"isPlayerGame",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Y=e(j.prototype,"roundSystem",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(j.prototype,"playerAttack",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(j.prototype,"enemyattack",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(j.prototype,"background",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(j.prototype,"firstLevelOptions",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(j.prototype,"secondLevelOptions",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(j.prototype,"escapePanel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(j.prototype,"escapeLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(j.prototype,"btn1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(j.prototype,"btn2",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(j.prototype,"button1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(j.prototype,"button2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(j.prototype,"gameButton1",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(j.prototype,"gameButton2",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(j.prototype,"gameButton3",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(j.prototype,"gameButton4",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=j))||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/CrossButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tetris.ts"],(function(i){"use strict";var t,n,e,s,o,u,a,h,l;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){o=i.cclegacy,u=i._decorator,a=i.Input,h=i.Component},function(i){l=i.Tetris}],execute:function(){var r,c,b,p,g,m,d,f;o._RF.push({},"6b7c4uk5V5F/LsKCiQYiDY7","CrossButton",void 0);var v=u.ccclass,T=u.property;i("CrossButton",(r=v("CrossButton"),c=T(l),r((g=t((p=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return t=i.call.apply(i,[this].concat(o))||this,e(t,"main",g,s(t)),e(t,"pressingTime",m,s(t)),e(t,"pressingDuration",d,s(t)),e(t,"doubleClickTime",f,s(t)),t.clickEvent=null,t.pressingEvent=null,t.doubleClickEvent=null,t.touchTime=0,t.touchFlag=!1,t.pressingFlag=!1,t.doubleClickFlag=!1,t.touchDuration=0,t}n(t,i);var o=t.prototype;return o.onEnable=function(){var i=this;switch(this.node.on(a.EventType.TOUCH_START,this.TouchStart,this),this.node.on(a.EventType.TOUCH_END,this.TouchEnd,this),this.node.name){case"LeftButton":this.clickEvent=this.main.LeftButton.bind(this.main),this.pressingEvent=function(){i.main.LeftButton.bind(i.main)()},this.doubleClickEvent=this.main.LeftButton.bind(this.main);break;case"RightButton":this.clickEvent=this.main.RightButton.bind(this.main),this.pressingEvent=function(){i.main.RightButton.bind(i.main)()},this.doubleClickEvent=this.main.RightButton.bind(this.main);break;case"UpButton":this.clickEvent=this.main.UpButton.bind(this.main),this.pressingEvent=function(){},this.doubleClickEvent=this.main.UpButton.bind(this.main);break;case"DownButton":this.clickEvent=this.main.DownButton.bind(this.main),this.pressingEvent=function(){i.main.DownButton.bind(i.main)()},this.doubleClickEvent=this.main.Drop.bind(this.main)}},o.start=function(){this.touchFlag=!1,this.pressingFlag=!1,this.doubleClickFlag=!1,this.touchTime=0},o.TouchStart=function(){this.main.actionable&&(this.touchFlag=!0,this.touchTime=0)},o.TouchEnd=function(){if(this.main.actionable){if(this.touchFlag=!1,this.pressingFlag)return this.unschedule(this.pressingEvent),this.doubleClickFlag=!1,void(this.pressingFlag=!1);if(this.doubleClickFlag)return this.DoubleClick(),void(this.doubleClickFlag=!1);this.clickEvent(),this.doubleClickFlag=!0}},o.DoubleClick=function(){this.main.actionable&&this.doubleClickEvent()},o.Pressing=function(){this.main.actionable&&(this.pressingFlag=!0,this.schedule(this.pressingEvent,this.pressingDuration))},o.update=function(i){this.main.actionable&&(this.touchFlag?(this.touchTime+=i,this.touchTime>=this.pressingTime&&(this.pressingFlag||this.Pressing()),this.doubleClickFlag&&this.touchDuration>=this.doubleClickTime&&(this.doubleClickFlag=!1),this.touchDuration=0):this.touchDuration+=i)},o.onDisable=function(){this.node.off(a.EventType.TOUCH_START,this.TouchStart,this),this.node.off(a.EventType.TOUCH_END,this.TouchEnd,this)},t}(h)).prototype,"main",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(p.prototype,"pressingTime",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),d=t(p.prototype,"pressingDuration",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),f=t(p.prototype,"doubleClickTime",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),b=p))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/DialogueController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaticData.ts","./ink-full.mjs_cjs=&original=.js","./AudioController.ts","./DontDestroyCanvas.ts","./CameraController.ts","./ink-full.js"],(function(e){"use strict";var i,t,a,r,n,o,l,s,u,c,d,h,g,p,b,m,y,f,S,k,C;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.JsonAsset,s=e.Sprite,u=e.Animation,c=e.Node,d=e.Label,h=e.SpriteFrame,g=e.find,p=e.Color,b=e.director,m=e.Component},function(e){y=e.StaticData},null,function(e){f=e.AudioController},function(e){S=e.DontDestroyCanvas},function(e){k=e.CameraController},function(e){C=e.default}],execute:function(){var x,w,v,D,z,I,T,P,F,L,B,A,R,N,W,G,E,K,M,O,j,_,q,J,H,Q,U,X,Z,V,Y,$,ee,ie,te,ae,re,ne,oe,le,se,ue,ce,de,he,ge,pe,be,me,ye,fe,Se,ke,Ce,xe,we,ve,De,ze,Ie,Te,Pe,Fe,Le,Be,Ae,Re,Ne,We,Ge,Ee,Ke,Me,Oe,je,_e,qe,Je;n._RF.push({},"c2f24TKoXJOAqarNqaNcExJ","DialogueController",void 0);var He=o.ccclass,Qe=o.property;e("DialogueController",(x=He("DialogueController"),w=Qe({type:l}),v=Qe(s),D=Qe(u),z=Qe({type:c}),I=Qe({type:d}),T=Qe({type:d}),P=Qe(s),F=Qe(s),L=Qe(k),B=Qe({type:f}),A=Qe({type:S}),R=Qe(h),N=Qe(h),W=Qe(h),G=Qe(h),E=Qe(h),K=Qe(h),M=Qe(h),O=Qe(h),j=Qe(h),_=Qe(h),q=Qe(h),J=Qe(h),H=Qe(h),Q=Qe(h),U=Qe(h),X=Qe(h),Z=Qe(h),V=Qe(h),Y=Qe(h),$=Qe(h),ee=Qe(h),ie=Qe(h),te=Qe(h),ae=Qe(h),re=Qe(h),ne=Qe(h),x((se=i((le=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return i=e.call.apply(e,[this].concat(n))||this,a(i,"inkText",se,r(i)),a(i,"background",ue,r(i)),a(i,"necklaceAnim",ce,r(i)),a(i,"dialoguePanel",de,r(i)),a(i,"boxName",he,r(i)),a(i,"boxText",ge,r(i)),a(i,"boxSprite",pe,r(i)),a(i,"propSprite",be,r(i)),a(i,"cameraController",me,r(i)),a(i,"audioController",ye,r(i)),a(i,"dontDestroyCanvas",fe,r(i)),a(i,"textSpeed",Se,r(i)),a(i,"cg1",ke,r(i)),a(i,"cg2",Ce,r(i)),a(i,"cg3",xe,r(i)),a(i,"cg4",we,r(i)),a(i,"cg5",ve,r(i)),a(i,"cg6",De,r(i)),a(i,"cg7",ze,r(i)),a(i,"cg8",Ie,r(i)),a(i,"cg9",Te,r(i)),a(i,"player",Pe,r(i)),a(i,"confusedPlayer",Fe,r(i)),a(i,"surprisedPlayer",Le,r(i)),a(i,"afraidPlayer",Be,r(i)),a(i,"happyPlayer",Ae,r(i)),a(i,"blackMagic",Re,r(i)),a(i,"madWizard",Ne,r(i)),a(i,"questionMark",We,r(i)),a(i,"manyQuestionMark",Ge,r(i)),a(i,"afraidWizard",Ee,r(i)),a(i,"senior",Ke,r(i)),a(i,"endPointWizard",Me,r(i)),a(i,"ncuPeople",Oe,r(i)),a(i,"handle",je,r(i)),a(i,"revolver",_e,r(i)),a(i,"magic",qe,r(i)),a(i,"boxing",Je,r(i)),i.typingTimer=void 0,i.story=void 0,i.isInDialogue=!1,i.textFinished=!1,i.hasShownDialogue=!1,i.isAnyKeyDown=!1,i.currentName=void 0,i.currentWord=void 0,i.currentEvent="",i.currentReadyDialogue=void 0,i.currentSprite=void 0,i.currentTextSpeed=void 0,i}t(i,e);var n=i.prototype;return n.start=function(){switch(this.audioController=f.instance,this.dontDestroyCanvas=S.instance,this.boxSprite.spriteFrame=null,this.dialoguePanel.active=!1,this.currentTextSpeed=this.textSpeed,this.story=new C.Story(this.inkText.json),g("Canvas").on(c.EventType.TOUCH_START,this.getKeyDown,this),y.gameIndex){case 0:switch(y.dialogueIndex){case 0:this.dontDestroyCanvas.fadeIn(),this.audioController.PlayBgm(this.audioController.bgm01Clip),this.background.spriteFrame=this.cg1,this.currentReadyDialogue="Game0Level1";break;case 1:this.dontDestroyCanvas.fadeIn(),this.audioController.PlayBgm(this.audioController.bgm02Clip),this.background.spriteFrame=this.cg2,this.currentReadyDialogue="Game0Level2"}break;case 1:switch(y.dialogueIndex){case 0:this.dontDestroyCanvas.fadeIn(),this.audioController.PlayBgm(this.audioController.bgm03Clip),this.background.spriteFrame=this.cg3,this.currentReadyDialogue="Game1Level1";break;case 1:this.dontDestroyCanvas.fadeIn(),this.audioController.PlayBgm(this.audioController.bgm06Clip),this.background.spriteFrame=this.cg3,this.currentReadyDialogue="Game1Level2"}break;case 2:switch(y.dialogueIndex){case 0:this.dontDestroyCanvas.fadeIn(),this.audioController.PlayBgm(this.audioController.bgm07Clip),this.background.spriteFrame=this.cg4,this.currentReadyDialogue="Game2Level1";break;case 1:this.dontDestroyCanvas.fadeIn(),this.audioController.PlayBgm(this.audioController.bgm06Clip),this.background.spriteFrame=this.cg4,this.currentReadyDialogue="Game2Level2"}break;case 3:switch(y.dialogueIndex){case 0:this.dontDestroyCanvas.fadeIn(),this.audioController.PlayBgm(this.audioController.bgm07Clip),this.background.spriteFrame=this.cg5,this.currentReadyDialogue="Game3Level1";break;case 1:this.dontDestroyCanvas.fadeIn(),this.audioController.PlayBgm(this.audioController.bgm04Clip),this.background.spriteFrame=this.cg6,this.currentReadyDialogue="Game3Level2";break;case 2:this.dontDestroyCanvas.fadeIn(),this.audioController.PlayBgm(this.audioController.bgm06Clip),this.background.spriteFrame=this.cg6,this.currentReadyDialogue="Game3Level3"}break;case 4:switch(y.dialogueIndex){case 0:this.dontDestroyCanvas.fadeIn(),this.audioController.PlayBgm(this.audioController.bgm03Clip),this.background.spriteFrame=this.cg7,this.currentReadyDialogue="Game4Level1";break;case 1:this.dontDestroyCanvas.fadeIn(),this.audioController.PlayBgm(this.audioController.bgm06Clip),this.background.spriteFrame=this.cg7,this.currentReadyDialogue="Game4Level2"}break;case 5:switch(y.dialogueIndex){case 0:this.dontDestroyCanvas.fadeIn(),this.audioController.PlayBgm(this.audioController.bgm02Clip),this.background.spriteFrame=this.cg8,this.currentReadyDialogue="Game5Level1";break;case 1:this.dontDestroyCanvas.fadeIn(),this.audioController.PlayBgm(this.audioController.farBgm),this.background.spriteFrame=this.cg9,this.currentReadyDialogue="Game5Level2"}}},n.update=function(e){this.isInDialogue?this.isAnyKeyDown&&(this.textFinished?this.getNextData():this.directShowLine()):!this.hasShownDialogue&&this.isAnyKeyDown&&this.startDialogue(this.currentReadyDialogue)},n.startDialogue=function(e){this.isInDialogue=!0,this.dialoguePanel.active=!0,this.story.ChoosePathString(e),this.getNextData()},n.getData=function(){if(!this.story.canContinue)return!1;var e=this.story.Continue(),i=(e=e.trim()).split(":");switch(this.currentName=i[0],this.currentName){case"旁白":this.currentSprite=null;break;case"我":this.currentSprite=this.player;break;case"迷惑的我":this.currentSprite=this.confusedPlayer;break;case"惊讶的我":this.currentSprite=this.surprisedPlayer;break;case"害怕的我":this.currentSprite=this.afraidPlayer;break;case"快乐的我":this.currentSprite=this.happyPlayer;break;case"？":case"？？？":case"黑魔法":this.currentSprite=null;break;case"痴狂的魔法师":this.currentSprite=this.madWizard;break;case"蜗居魔法师":this.currentSprite=this.afraidWizard;break;case'"学姐"':this.currentSprite=this.senior;break;case"终点魔法师":this.currentSprite=this.endPointWizard;break;case"家园小镇的前辈":this.currentSprite=null}return this.currentWord=i[1],3==i.length&&(this.currentEvent=i[2]),!0},n.getNextData=function(){this.getData()?(this.textFinished=!1,this.showDialogue()):this.finishDialogue()},n.finishDialogue=function(){this.directShowLine(),this.hasShownDialogue=!0,this.isInDialogue=!1,this.currentReadyDialogue="",this.EndScene()},n.getKeyDown=function(){this.isAnyKeyDown=!0},n.lateUpdate=function(){this.isAnyKeyDown=!1},n.ShowNeckLace=function(){this.necklaceAnim.stop(),this.necklaceAnim.play("necklaceFadeIn")},n.FadeNeckLace=function(){this.audioController.BeginZi(),this.necklaceAnim.stop(),this.necklaceAnim.play("necklaceFadeOut")},n.showDialogue=function(){var e=this;switch(this.currentEvent){case"":break;case"trainAndWing":this.audioController.BeginTrainAndWing();break;case"necklace":this.ShowNeckLace();break;case"zi":this.FadeNeckLace();break;case"handle":this.propSprite.spriteFrame=this.handle;break;case"revolver":this.propSprite.spriteFrame=this.revolver;break;case"magic":this.propSprite.spriteFrame=this.magic;break;case"boxing":this.propSprite.spriteFrame=this.boxing,setTimeout((function(){e.propSprite.spriteFrame=null}),1e3);break;case"foot":this.audioController.BeginFoot();break;case"shasha":this.audioController.BeginShaSha();break;case"fadeBgm":this.audioController.bgmFadeOut();break;case"癫狂bgm":this.audioController.BeginMad();break;case"quick":this.currentTextSpeed/=3;break;case"shake":this.cameraController.Shake(1,1);break;case"激昂bgmAndShake":this.audioController.PlayBgm(this.audioController.bgm04Clip),this.cameraController.Shake(1,1)}if(this.currentEvent="",null==this.currentSprite)this.boxSprite.color.a>200&&this.fadeOutSprite();else{var i=new p(this.boxSprite.color);i.a=255,this.boxSprite.color=i,this.boxSprite.spriteFrame=this.currentSprite}this.textFinished=!1,this.boxName.string=this.currentName,this.boxText.string="",this.typingLine()},n.typingLine=function(e){var i=this;void 0===e&&(e=0);var t=this.currentWord.length;e<t?this.typingTimer=setTimeout((function(){var t=i.boxText.string+i.currentWord[e];i.boxText.string=t,i.typingLine(e+1)}),1e3*this.currentTextSpeed):(clearTimeout(this.typingTimer),this.textFinished=!0,this.currentTextSpeed=this.textSpeed)},n.directShowLine=function(){clearTimeout(this.typingTimer),this.boxText.string=this.currentWord,this.textFinished=!0},n.EndScene=function(){switch(this.dontDestroyCanvas.fadeOut(),this.audioController.bgmFadeOut(),y.gameIndex){case 0:switch(y.dialogueIndex){case 0:y.dialogueIndex++,b.preloadScene("dialogue"),setTimeout((function(){b.loadScene("dialogue")}),1e3);break;case 1:y.dialogueIndex=0,y.gameIndex++,b.preloadScene("dialogue"),setTimeout((function(){b.loadScene("dialogue")}),1e3)}break;case 1:case 2:switch(y.dialogueIndex){case 0:b.preloadScene("action-Lin"),setTimeout((function(){b.loadScene("action-Lin")}),1e3);break;case 1:y.dialogueIndex=0,y.gameIndex++,b.preloadScene("dialogue"),setTimeout((function(){b.loadScene("dialogue")}),1e3)}break;case 3:switch(y.dialogueIndex){case 0:y.dialogueIndex++,b.preloadScene("dialogue"),setTimeout((function(){b.loadScene("dialogue")}),1e3);break;case 1:b.preloadScene("action-Lin"),setTimeout((function(){b.loadScene("action-Lin")}),1e3);break;case 2:y.dialogueIndex=0,y.gameIndex++,b.preloadScene("dialogue"),setTimeout((function(){b.loadScene("dialogue")}),1e3)}break;case 4:switch(y.dialogueIndex){case 0:b.preloadScene("action-Lin"),setTimeout((function(){b.loadScene("action-Lin")}),1e3);break;case 1:y.dialogueIndex=0,y.gameIndex++,b.preloadScene("dialogue"),setTimeout((function(){b.loadScene("dialogue")}),1e3)}break;case 5:switch(y.dialogueIndex){case 0:y.dialogueIndex++,b.preloadScene("dialogue"),setTimeout((function(){b.loadScene("dialogue")}),1e3);break;case 1:y.gameIndex=0,y.dialogueIndex=0,b.preloadScene("gameEnd"),setTimeout((function(){b.loadScene("gameEnd")}),1e3)}}},n.fadeOutSprite=function(){var e=this,i=new p(this.boxSprite.color);i.a=204,this.boxSprite.color=i;for(var t=0;t<4;t++){if(this.boxSprite.color.a<=0)return;setTimeout((function(){if(e.boxSprite.color.a>205){var i=new p(e.boxSprite.color);return i.a=255,void(e.boxSprite.color=i)}var t=new p(e.boxSprite.color);t.a-=51,e.boxSprite.color=t}),50*t)}},i}(m)).prototype,"inkText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=i(le.prototype,"background",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=i(le.prototype,"necklaceAnim",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=i(le.prototype,"dialoguePanel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=i(le.prototype,"boxName",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=i(le.prototype,"boxText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=i(le.prototype,"boxSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=i(le.prototype,"propSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=i(le.prototype,"cameraController",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=i(le.prototype,"audioController",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=i(le.prototype,"dontDestroyCanvas",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=i(le.prototype,"textSpeed",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ke=i(le.prototype,"cg1",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=i(le.prototype,"cg2",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=i(le.prototype,"cg3",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=i(le.prototype,"cg4",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=i(le.prototype,"cg5",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=i(le.prototype,"cg6",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=i(le.prototype,"cg7",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=i(le.prototype,"cg8",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=i(le.prototype,"cg9",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=i(le.prototype,"player",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=i(le.prototype,"confusedPlayer",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=i(le.prototype,"surprisedPlayer",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=i(le.prototype,"afraidPlayer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=i(le.prototype,"happyPlayer",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=i(le.prototype,"blackMagic",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=i(le.prototype,"madWizard",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=i(le.prototype,"questionMark",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=i(le.prototype,"manyQuestionMark",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=i(le.prototype,"afraidWizard",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=i(le.prototype,"senior",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=i(le.prototype,"endPointWizard",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=i(le.prototype,"ncuPeople",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=i(le.prototype,"handle",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=i(le.prototype,"revolver",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=i(le.prototype,"magic",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=i(le.prototype,"boxing",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=le))||oe));n._RF.pop()}}}));

System.register("chunks:///_virtual/DialogueSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ink-full.mjs_cjs=&original=.js","./RoundSystem.ts","./StaticData.ts","./ink-full.js"],(function(e){"use strict";var t,i,n,a,s,o,r,u,l,h,c,g,d,y,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,r=e.JsonAsset,u=e.Node,l=e.Label,h=e.input,c=e.Input,g=e.Component},null,function(e){d=e.RoundSystem},function(e){y=e.StaticData},function(e){D=e.default}],execute:function(){var p,m,b,f,S,v,R,x,w,T,N,I,k,L;e("DialogueType",void 0),s._RF.push({},"9d66ehOb/JDMaPU03JG8Iab","DialogueSystem",void 0);var B,C=o.ccclass,P=o.property;!function(e){e[e.begin=0]="begin",e[e.item=1]="item",e[e.base=2]="base"}(B||(B=e("DialogueType",{})));e("DialogueSystem",(p=C("DialogueSystem"),m=P({type:r}),b=P(u),f=P(l),S=P(l),v=P(u),p((w=t((x=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,n(t,"inkText",w,a(t)),n(t,"roundSystem",T,a(t)),n(t,"dialogName",N,a(t)),n(t,"dialogLabel",I,a(t)),n(t,"dialogueNode",k,a(t)),n(t,"textSpeed",L,a(t)),t.typingTimer=void 0,t.story=void 0,t.isInDialogue=!1,t.textFinished=!1,t.isAnyKeyDown=!1,t.currentName=void 0,t.currentWord=void 0,t.currentEvent="",t.currentReadyDialogue="",t.dialogueType=void 0,t}i(t,e);var s=t.prototype;return s.onLoad=function(){this.roundSystem=this.roundSystem.getComponent(d),h.on(c.EventType.TOUCH_START,this.getKeyDown,this),this.dialogueNode.active=!1,this.story=new D.Story(this.inkText.json)},s.start=function(){switch(y.gameIndex){case 1:this.currentReadyDialogue="Boss1";break;case 2:this.currentReadyDialogue="Boss2";break;case 3:this.currentReadyDialogue="Boss3";break;case 4:this.currentReadyDialogue="Boss4"}this.isInDialogue=!0,this.dialogueNode.active=!0,""==this.currentReadyDialogue?this.story.ChoosePathString("Boss1"):this.story.ChoosePathString(this.currentReadyDialogue),this.dialogueType=B.begin,this.getNextData()},s.update=function(e){this.isInDialogue&&this.isAnyKeyDown&&(this.textFinished?this.getNextData():this.directShowLine())},s.lateUpdate=function(){this.isAnyKeyDown=!1},s.getKeyDown=function(){this.isAnyKeyDown=!0},s.getNextData=function(){this.getData()?(this.textFinished=!1,this.showDialogue()):this.finishDialogue()},s.getData=function(){if(!this.story.canContinue)return!1;var e=this.story.Continue(),t=(e=e.trim()).split(":");return this.currentName=t[0],this.currentWord=t[1],3==t.length&&(this.currentEvent=t[2]),!0},s.showDialogue=function(){this.textFinished=!1,this.dialogName.string=this.currentName,this.dialogLabel.string="",this.typingLine()},s.typingLine=function(e){var t=this;void 0===e&&(e=0);var i=this.currentWord.length;e<i?this.typingTimer=setTimeout((function(){var i=t.dialogLabel.string+t.currentWord[e];t.dialogLabel.string=i,t.typingLine(e+1)}),1e3*this.textSpeed):(clearTimeout(this.typingTimer),this.textFinished=!0,this.textSpeed=this.textSpeed)},s.directShowLine=function(){clearTimeout(this.typingTimer),this.dialogLabel.string=this.currentWord,this.textFinished=!0},s.finishDialogue=function(){switch(this.dialogueType){case B.begin:this.isInDialogue=!1,this.currentReadyDialogue="",this.dialogueNode.active=!1,this.roundSystem.ChangeRound();break;case B.item:case B.base:this.isInDialogue=!1,this.currentReadyDialogue="",this.dialogueNode.active=!1,this.roundSystem.buttonPanel.active=!0}},s.BeginBaseDialogue=function(){switch(this.roundSystem.buttonPanel.active=!1,y.gameIndex){case 1:this.currentReadyDialogue="Boss1";break;case 2:this.currentReadyDialogue="Boss2";break;case 3:this.currentReadyDialogue="Boss3";break;case 4:this.currentReadyDialogue="Boss4"}this.isInDialogue=!0,this.dialogueNode.active=!0,""==this.currentReadyDialogue?this.story.ChoosePathString("Boss1"):this.story.ChoosePathString(this.currentReadyDialogue),this.dialogueType=B.base,this.getNextData()},s.BeginItemsDialogue=function(){switch(y.miniGameIndex){case 1:this.currentReadyDialogue="Item1";break;case 2:this.currentReadyDialogue="Item2";break;case 3:this.currentReadyDialogue="Item3";break;case 4:this.currentReadyDialogue="Item4"}this.story.ChoosePathString(this.currentReadyDialogue),this.isInDialogue=!0,this.dialogueNode.active=!0,this.dialogueType=B.item,this.getNextData()},t}(g)).prototype,"inkText",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(x.prototype,"roundSystem",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(x.prototype,"dialogName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(x.prototype,"dialogLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(x.prototype,"dialogueNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(x.prototype,"textSpeed",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=x))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/DontDestroyCanvas.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,e,a,o,s,r,c,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,r=t.Animation,c=t.game,p=t.Component}],execute:function(){var u,l,d,f,y,h;o._RF.push({},"4ba7d20YndCLpYi/Sbzsnpp","DontDestroyCanvas",void 0);var m=s.ccclass,v=s.property;t("DontDestroyCanvas",(u=m("DontDestroyCanvas"),l=v({type:r}),u(((h=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o))||this,e(n,"anim",y,a(n)),n}i(n,t);var o=n.prototype;return o.onLoad=function(){null==n.instance?(n.instance=this,c.addPersistRootNode(this.node)):this.node.destroy()},o.start=function(){this.anim.stop(),this.anim.play("fadeIn")},o.update=function(t){},o.fadeIn=function(){this.anim.stop(),this.anim.play("fadeIn")},o.fadeOut=function(){this.anim.stop(),this.anim.play("fadeOut")},n}(p)).instance=void 0,y=n((f=h).prototype,"anim",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/Enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Health.ts"],(function(e){"use strict";var t,n,i,r,o,a,p,y,l,u,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,p=e.Enum,y=e.Animation,l=e.Sprite,u=e.Component},function(e){m=e.Health}],execute:function(){var c,s,f,h,b,d,E,g,v,z;e("EnemyType",void 0),o._RF.push({},"3fc21/QGYRGTZzvA2FWJGyE","Enemy",void 0);var G,T=a.ccclass,w=a.property;!function(e){e[e.type1=0]="type1",e[e.type2=1]="type2",e[e.type3=2]="type3",e[e.type4=3]="type4",e[e.type5=4]="type5"}(G||(G=e("EnemyType",{})));e("Enemy",(c=T("Enemy"),s=w({type:p(G)}),f=w({type:y}),h=w(l),c((E=t((d=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"enemyName",E,r(t)),i(t,"enemyType",g,r(t)),i(t,"anim",v,r(t)),i(t,"enemySprite",z,r(t)),t.enemyHealth=null,t}n(t,e);var o=t.prototype;return o.start=function(){this.enemyHealth=this.getComponent(m)},o.IntoGameMode=function(){this.anim.stop(),this.anim.play("enemyIntoGameMode")},o.ExitGameMode=function(){this.anim.stop(),this.anim.play("enemyExitGameMode")},t}(u)).prototype,"enemyName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=t(d.prototype,"enemyType",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.type1}}),v=t(d.prototype,"anim",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(d.prototype,"enemySprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=d))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyAttack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoundSystem.ts","./Link.ts","./MagicHat.ts","./Revolver.ts","./Whac-a-mole.ts","./StaticData.ts","./PromptSystem.ts","./Enemy.ts"],(function(t){"use strict";var e,n,i,r,a,o,l,s,u,c,m,p,h,f,y,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.find,s=t.Component},function(t){u=t.RoundSystem},function(t){c=t.Link},function(t){m=t.MagicHat},function(t){p=t.Revolver},function(t){h=t.Whac_a_mole},function(t){f=t.StaticData},function(t){y=t.PromptSystem},function(t){S=t.Enemy}],execute:function(){var b,g,d,v,k,G,_,w,E,z,D,R,C,H,P;a._RF.push({},"fa708JCNnlJCbhN47/7uMfp","EnemyAttack",void 0);var A=o.ccclass,M=o.property;t("EnemyAttack",(b=A("EnemyAttack"),g=M(m),d=M(c),v=M(h),k=M(p),G=M(y),_=M(u),b((z=e((E=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"magicHat",z,r(e)),i(e,"link",D,r(e)),i(e,"whac_a_mole",R,r(e)),i(e,"revolver",C,r(e)),i(e,"promptSystem",H,r(e)),i(e,"roundSystem",P,r(e)),e.enemy=null,e}n(e,t);var a=e.prototype;return a.start=function(){this.enemy=this.getComponent(S),this.roundSystem=l("GameManager").getComponent(u)},a.ChooseGame=function(){switch(f.gameIndex){case 1:this.Game1Start();break;case 2:this.Game4Start();break;case 3:this.Game2Start();break;case 4:this.Game3Start();break;default:this.Game1Start()}},a.Game1Start=function(){this.promptSystem.EnterDialog(.05,["小游戏玩法：开始时有三个礼帽，其中一个有兔子，回合开始时会展示，之后会进行礼帽的交换，交换后玩家要猜出有兔子的礼帽，否则会受到伤害"],this.magicHat.GameStart.bind(this.magicHat))},a.Game2Start=function(){this.promptSystem.EnterDialog(.05,["小游戏玩法：地鼠在六个洞中随机钻出，停留1.5秒消失，地鼠被打后1.5到3s随机重新钻出，共出现24个地鼠，每漏一只地鼠都会收到伤害"],this.whac_a_mole.GameStart.bind(this.whac_a_mole))},a.Game3Start=function(){this.promptSystem.EnterDialog(.05,["小游戏玩法：16张牌，8对牌，每对的图案相同，摆成4*4的阵型，背面朝上覆盖，每次选择一张翻开，有两张翻开的牌时，检测两张牌是否相同，相同则消去，不同则重新背面朝上覆盖，限时45秒，每张剩余的排都会对玩家进行伤害"],this.link.GameStart.bind(this.link))},a.Game4Start=function(){this.revolver.isPlayerControl=!1,this.revolver.magazineNumber=1,this.promptSystem.EnterDialog(.05,["小游戏玩法：经典俄罗斯轮盘,白色为空仓，蓝色为普通子弹，红色为高级子弹，金色为黄金子弹，boss会从六个位置随机选择一个作为初始位置，顺时针击发两次"],this.revolver.GameStart.bind(this.revolver))},a.Game5Start=function(){this.SkipRound()},a.SkipRound=function(){this.roundSystem.PlayerRoundBegin.bind(this.roundSystem)()},e}(s)).prototype,"magicHat",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(E.prototype,"link",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(E.prototype,"whac_a_mole",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(E.prototype,"revolver",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(E.prototype,"promptSystem",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(E.prototype,"roundSystem",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=E))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameEndController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioController.ts","./DontDestroyCanvas.ts"],(function(n){"use strict";var t,e,o,r,i,a,l,s,u,c;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,a=n._decorator,l=n.Animation,s=n.Component},function(n){u=n.AudioController},function(n){c=n.DontDestroyCanvas}],execute:function(){var p,d,m,y,f,C,g,h,v;i._RF.push({},"ab9255YcchFkZANJhF3OE88","GameEndController",void 0);var E=a.ccclass,b=a.property;n("GameEndController",(p=E("GameEndController"),d=b({type:u}),m=b({type:c}),y=b(l),p((g=t((C=function(n){function t(){for(var t,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t=n.call.apply(n,[this].concat(i))||this,o(t,"audioController",g,r(t)),o(t,"dontDestroyCanvas",h,r(t)),o(t,"gameEndAnim",v,r(t)),t}return e(t,n),t.prototype.start=function(){var n=this;this.audioController=u.instance,this.dontDestroyCanvas=c.instance,this.dontDestroyCanvas.fadeIn(),this.gameEndAnim.play("gameEnd"),setTimeout((function(){n.gameEndAnim.stop(),n.gameEndAnim.play("gameEnd2")}),6500)},t}(s)).prototype,"audioController",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=t(C.prototype,"dontDestroyCanvas",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(C.prototype,"gameEndAnim",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=C))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/Gopher.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,r,n;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator,n=e.Component}],execute:function(){var c;o._RF.push({},"53da3pjk/BOV7S/FsIcamQT","Gopher",void 0);var s=r.ccclass;r.property,e("Gopher",s("Gopher")(c=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).whac_a_mole=null,t}return t(o,e),o.prototype.onClickEvent=function(){this.node.destroy(),this.whac_a_mole.HitGopher()},o}(n))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/Hat.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,n=t.Component}],execute:function(){var s;e._RF.push({},"6ff47/O8p1I2rAYKCeDR3Fc","Hat",void 0);var r=o.ccclass;o.property,t("Hat",r("Hat")(s=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this).ID=0,i.main=null,i.targetY=0,i.targetX=0,i.currX=0,i}i(e,t);var o=e.prototype;return o.OnClickEvent=function(){this.main.HatClick(this)},o.SetTargetX=function(t){this.targetX=t,this.currX=this.node.position.x},o.SetTargetY=function(t){this.targetY=t},o.update=function(t){this.main.gameStart&&(0!=this.targetY&&this.node.position.y<this.targetY&&this.node.setPosition(this.node.position.x,this.node.position.y+t*this.main.moveSpeed),0==this.targetY&&this.node.position.y>this.targetY&&this.node.setPosition(this.node.position.x,this.node.position.y-t*this.main.moveSpeed),this.targetX>this.currX&&this.targetX>this.node.position.x&&this.node.setPosition(this.node.position.x+t*this.main.exchangeSpeed,this.node.position.y),this.targetX<this.currX&&this.targetX<this.node.position.x&&this.node.setPosition(this.node.position.x-t*this.main.exchangeSpeed,this.node.position.y))},e}(n))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/Health.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enemy.ts","./ChooseGameController.ts","./RoundSystem.ts","./Player.ts","./StaticData.ts","./PromptSystem.ts"],(function(e){"use strict";var t,i,n,r,a,l,o,s,u,h,c,p,y,m,H,f,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,o=e._decorator,s=e.Node,u=e.Label,h=e.Animation,c=e.Component},function(e){p=e.Enemy},function(e){y=e.ChooseGameController},function(e){m=e.RoundSystem},function(e){H=e.Player},function(e){f=e.StaticData},function(e){b=e.PromptSystem}],execute:function(){var d,g,S,L,D,C,v,z,N,w,E,P,x,_,R,G,j,k,A,I;l._RF.push({},"90b15g7Al9DzIWzHRqj54m3","Health",void 0);var T=o.ccclass,F=o.property;e("Health",(d=T("Health"),g=F(b),S=F(m),L=F(y),D=F(s),C=F(s),v=F(u),z=F(u),N=F(u),d((P=t((E=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(t,"promptSystem",P,r(t)),n(t,"roundSystem",x,r(t)),n(t,"chooseGameController",_,r(t)),n(t,"playerNode",R,r(t)),n(t,"enemyNode",G,r(t)),n(t,"playerHitLabel",j,r(t)),n(t,"enemyHitLabel",k,r(t)),n(t,"playerHitShieldLabel",A,r(t)),n(t,"maxHealth",I,r(t)),t.currDefense=0,t._currentHealth=0,t}i(t,e);var l=t.prototype;return l.start=function(){if("Enemy"==this.node.name){switch(f.gameIndex){case 4:this.maxHealth=800;break;default:this.maxHealth=200}this.currentHealth=this.maxHealth}else this.maxHealth=200,this.currentHealth=f.playerCurrentHealth;this.playerHitLabel.node.active=!1,this.enemyHitLabel.node.active=!1},l.Hit=function(e,t){t.string="-"+e+"HP",t.getComponent(h).stop(),t==this.playerHitLabel?t.getComponent(h).play("playerHitHealth"):t.getComponent(h).play("enemyHitHealth")},l.HitShield=function(e){this.playerHitShieldLabel.string="-"+e+"护盾值",this.playerHitShieldLabel.getComponent(h).stop(),this.playerHitShieldLabel.getComponent(h).play("playerHitShield")},l.injured=function(e){var t=this;if(0!=e&&0!=this.currentHealth){if(this.currDefense>=e?(this.playerHitShieldLabel.node.active=!0,this.HitShield(e)):this.currDefense>0&&(this.playerHitShieldLabel.node.active=!0,this.HitShield(this.currDefense)),this.currentHealth+this.currDefense<=e)return this.currentHealth=0,"Player"==this.node.name&&(this.playerHitLabel.node.active=!0,this.Hit(e-this.currDefense,this.playerHitLabel),this.promptSystem.EnterDialog(.01,[this.playerNode.getComponent(H).playerName+"受到"+this.enemyNode.getComponent(p).enemyName+"的"+e+"点伤害并被击败了"]),f.playerCurrentHealth=200,setTimeout((function(){t.roundSystem.EndScene()}),1e3)),void("Enemy"==this.node.name&&(this.enemyHitLabel.node.active=!0,this.Hit(e-this.currDefense,this.enemyHitLabel),this.promptSystem.EnterDialog(.01,[this.playerNode.getComponent(H).playerName+"对"+this.enemyNode.getComponent(p).enemyName+"造成"+e+"点伤害并击败了他"]),setTimeout((function(){t.roundSystem.EndScene()}),1e3)));this.currDefense>=e?this.currDefense-=e:(this.currDefense=0,this.currentHealth-=e-this.currDefense,"Player"==this.node.name&&(f.playerCurrentHealth=this.currentHealth,this.playerHitLabel.node.active=!0,this.Hit(e-this.currDefense,this.playerHitLabel)),"Enemy"==this.node.name&&(this.enemyHitLabel.node.active=!0,this.Hit(e-this.currDefense,this.enemyHitLabel)))}},a(t,[{key:"currentHealth",get:function(){return this._currentHealth},set:function(e){this._currentHealth=e}}]),t}(c)).prototype,"promptSystem",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(E.prototype,"roundSystem",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(E.prototype,"chooseGameController",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(E.prototype,"playerNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(E.prototype,"enemyNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(E.prototype,"playerHitLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(E.prototype,"enemyHitLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(E.prototype,"playerHitShieldLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(E.prototype,"maxHealth",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),w=E))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/HealthBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Health.ts"],(function(t){"use strict";var e,a,r,i,l,h,n,o,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){l=t.cclegacy,h=t._decorator,n=t.Label,o=t.ProgressBar,s=t.Component},function(t){c=t.Health}],execute:function(){var u,p,f,H,g,y,B;l._RF.push({},"d689fgiHspG8L97ekMu3U19","HealthBar",void 0);var b=h.ccclass,d=h.property;t("HealthBar",(u=b("HealthBar"),p=d(c),f=d(n),u((y=e((g=function(t){function e(){for(var e,a=arguments.length,l=new Array(a),h=0;h<a;h++)l[h]=arguments[h];return e=t.call.apply(t,[this].concat(l))||this,r(e,"health",y,i(e)),r(e,"healthText",B,i(e)),e.healthBar=void 0,e}a(e,t);var l=e.prototype;return l.start=function(){this.healthBar=this.getComponent(o)},l.update=function(t){this.healthBar.progress=this.health.currentHealth/this.health.maxHealth,this.healthText.string=this.health.currentHealth+"/"+this.health.maxHealth},e}(s)).prototype,"health",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(g.prototype,"healthText",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=g))||H));l._RF.pop()}}}));

System.register("chunks:///_virtual/InputController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var n,t,e,r,s,u;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,r=o.input,s=o.Input,u=o.Component}],execute:function(){var i;t._RF.push({},"6d75bS48nRIMqBeyR8XPKo4","InputController",void 0);var c=e.ccclass;e.property,o("InputController",c("InputController")(i=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var e=t.prototype;return e.onLoad=function(){r.on(s.EventType.MOUSE_DOWN,this.onMouseDown,this),r.on(s.EventType.KEY_DOWN,this.onKeyDown,this)},e.onDestroy=function(){r.off(s.EventType.MOUSE_DOWN,this.onMouseDown,this),r.off(s.EventType.KEY_DOWN,this.onKeyDown,this)},e.onMouseDown=function(o){0==o.getButton()?console.log("鼠标左键被按下"):2==o.getButton()&&console.log("鼠标右键被按下")},e.onKeyDown=function(o){console.log(String.fromCharCode(o.keyCode))},t}(u))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemsController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoundSystem.ts","./StaticData.ts","./DialogueSystem.ts"],(function(e){"use strict";var i,a,t,n,s,l,m,r,o,c,d,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,m=e.Animation,r=e.Node,o=e.Component},function(e){c=e.RoundSystem},function(e){d=e.StaticData},function(e){u=e.DialogueSystem}],execute:function(){var h,p,y,b,g,A,I,v,F,f,k,x,O,S,w,P,D;s._RF.push({},"1e0e9yduyhP74KtwiTXHILa","ItemsController",void 0);var G=l.ccclass,W=l.property;e("ItemsController",(h=G("ItemsController"),p=W(m),y=W(m),b=W(m),g=W(m),A=W(u),I=W(c),v=W(r),h((k=i((f=function(e){function i(){for(var i,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return i=e.call.apply(e,[this].concat(s))||this,t(i,"handheldAnim",k,n(i)),t(i,"revolverAnim",x,n(i)),t(i,"magicWandAnim",O,n(i)),t(i,"boxingAnim",S,n(i)),t(i,"dialogueSystem",w,n(i)),t(i,"roundSystem",P,n(i)),t(i,"itemsPanel",D,n(i)),i}a(i,e);var s=i.prototype;return s.start=function(){d.miniGameIndex=0,this.itemsPanel.active=!1},s.showItemsPanel=function(){this.itemsPanel.active=!0,this.roundSystem.buttonPanel.active=!1},s.HandheldGameMachineOnclick=function(){switch(d.miniGameIndex){case 0:this.handheldAnim.play("itemsFadeIn");break;case 1:this.dialogueSystem.BeginItemsDialogue(),this.itemsPanel.active=!1;break;case 2:this.handheldAnim.play("itemsFadeIn"),this.revolverAnim.play("itemsFadeOut");break;case 3:this.handheldAnim.play("itemsFadeIn"),this.magicWandAnim.play("itemsFadeOut");break;case 4:this.handheldAnim.play("itemsFadeIn"),this.boxingAnim.play("itemsFadeOut")}d.miniGameIndex=1},s.RevolverOnclick=function(){switch(d.miniGameIndex){case 0:this.revolverAnim.play("itemsFadeIn");break;case 1:this.revolverAnim.play("itemsFadeIn"),this.handheldAnim.play("itemsFadeOut");break;case 2:this.dialogueSystem.BeginItemsDialogue(),this.itemsPanel.active=!1;break;case 3:this.revolverAnim.play("itemsFadeIn"),this.magicWandAnim.play("itemsFadeOut");break;case 4:this.revolverAnim.play("itemsFadeIn"),this.boxingAnim.play("itemsFadeOut")}d.miniGameIndex=2},s.MagicWandOnclick=function(){switch(d.miniGameIndex){case 0:this.magicWandAnim.play("itemsFadeIn");break;case 1:this.magicWandAnim.play("itemsFadeIn"),this.handheldAnim.play("itemsFadeOut");break;case 2:this.magicWandAnim.play("itemsFadeIn"),this.revolverAnim.play("itemsFadeOut");break;case 3:this.dialogueSystem.BeginItemsDialogue(),this.itemsPanel.active=!1;break;case 4:this.magicWandAnim.play("itemsFadeIn"),this.boxingAnim.play("itemsFadeOut")}d.miniGameIndex=3},s.BoxingOnclick=function(){switch(d.miniGameIndex){case 0:this.boxingAnim.play("itemsFadeIn");break;case 1:this.boxingAnim.play("itemsFadeIn"),this.handheldAnim.play("itemsFadeOut");break;case 2:this.boxingAnim.play("itemsFadeIn"),this.revolverAnim.play("itemsFadeOut");break;case 3:this.boxingAnim.play("itemsFadeIn"),this.magicWandAnim.play("itemsFadeOut");break;case 4:this.dialogueSystem.BeginItemsDialogue(),this.itemsPanel.active=!1}d.miniGameIndex=4},i}(o)).prototype,"handheldAnim",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(f.prototype,"revolverAnim",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(f.prototype,"magicWandAnim",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(f.prototype,"boxingAnim",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(f.prototype,"dialogueSystem",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(f.prototype,"roundSystem",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(f.prototype,"itemsPanel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=f))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/Link.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Health.ts","./Tile.ts"],(function(e){"use strict";var i,t,r,a,n,l,s,o,c,u,h,f,m,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,s=e.Node,o=e.Label,c=e.resources,u=e.Prefab,h=e.instantiate,f=e.Component},function(e){m=e.Health},function(e){p=e.Tile}],execute:function(){var d,b,g,T,y,v,k,S,w,C,z,D,R,I,L,P,B;n._RF.push({},"b49f6Plan5GEq0vAIpQf5Yy","Link",void 0);var H=l.ccclass,x=l.property;e("Link",(d=H("Link"),b=x(s),g=x(s),T=x(o),y=x(m),d((S=i((k=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return i=e.call.apply(e,[this].concat(n))||this,r(i,"background",S,a(i)),r(i,"gameNode",w,a(i)),r(i,"time",C,a(i)),r(i,"maxTime",z,a(i)),r(i,"line",D,a(i)),r(i,"cross",R,a(i)),r(i,"playerHealth",I,a(i)),r(i,"damagePerTile",L,a(i)),r(i,"spaceX",P,a(i)),r(i,"spaceY",B,a(i)),i.prefabTile=null,i.gameStart=!1,i.currTime=0,i.timeRecorder=null,i.remainTile=0,i.tiles=[],i.tileData=[],i.lastClickTile=null,i.waiting=!1,i}t(i,e);var n=i.prototype;return n.start=function(){var e=this;c.load("prefab/TilePrefab",u,(function(i,t){e.prefabTile=t}))},n.update=function(e){this.gameStart&&(this.time.string="剩余时间："+this.currTime+"s",(this.remainTile<=0||this.currTime<=0)&&this.ExitGame())},n.GameStart=function(){var e=this;this.remainTile=this.line*this.cross,this.currTime=this.maxTime,this.background.active=!0,this.gameNode.active=!0,this.gameStart=!0,this.timeRecorder=function(){0==e.currTime&&e.unschedule(e.timeRecorder),e.currTime--},this.schedule(this.timeRecorder,1);for(var i=0;i<this.line;i++){this.tiles[i]=[];for(var t=0;t<this.cross;t++){var r=h(this.prefabTile).getComponent(p);r.node.parent=this.gameNode,r.node.setPosition((t+.5-.5*this.cross)*this.spaceX,(i+.5-.5*this.line)*this.spaceY),r.link=this,this.tiles[i][t]=r}}this.InitBoard(),this.RandomBoard(),this.RefreshBoard()},n.ExitGame=function(){for(var e=0;e<this.line;e++)for(var i=0;i<this.cross;i++)this.tileData[e][i]=null,null!=this.tiles[e][i].node&&this.tiles[e][i].node.destroy(),this.tiles[e][i]=null;this.unschedule(this.timeRecorder),this.background.active=!1,this.gameNode.active=!1,this.gameStart=!1,this.playerHealth.injured(this.remainTile*this.damagePerTile),this.playerHealth.roundSystem.ChangeRound()},n.InitBoard=function(){for(var e=0,i=0,t=0;t<this.line;t++){this.tileData[t]=[];for(var r=0;r<this.cross;r++)2==i&&(i=0,8==++e&&(e=0)),this.tileData[t][r]=e,this.tiles[t][r].SetType(e),i++}},n.RandomBoard=function(){for(var e=0;e<this.line;e++)for(var i=0;i<this.cross;i++){var t=Math.floor(Math.random()*this.line),r=Math.floor(Math.random()*this.cross),a=this.tileData[e][i];this.tileData[e][i]=this.tileData[t][r],this.tileData[t][r]=a}},n.RefreshBoard=function(){for(var e=0;e<this.line;e++)for(var i=0;i<this.cross;i++)this.tiles[e][i].SetType(this.tileData[e][i])},n.OnTileClick=function(e){if(!this.waiting){if(e.isSelected)return e.SetIsSelected(!1),void(this.lastClickTile=null);e.SetIsSelected(!0),this.lastClickTile?(this.waiting=!0,this.lastClickTile.type==e.type?this.scheduleOnce((function(){this.lastClickTile.IsLink(),this.lastClickTile=null,e.IsLink(),this.remainTile-=2}),.5):this.scheduleOnce((function(){this.lastClickTile.SetIsSelected(!1),e.SetIsSelected(!1),this.lastClickTile=null}),.5),this.scheduleOnce((function(){this.waiting=!1}),1)):this.lastClickTile=e}},i}(f)).prototype,"background",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(k.prototype,"gameNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(k.prototype,"time",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(k.prototype,"maxTime",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=i(k.prototype,"line",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=i(k.prototype,"cross",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=i(k.prototype,"playerHealth",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(k.prototype,"damagePerTile",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=i(k.prototype,"spaceX",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),B=i(k.prototype,"spaceY",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),v=k))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/Magazine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,l,r,s,a,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,s=t.Sprite,a=t.Color,u=t.v2,h=t.Component}],execute:function(){var c,g,p,m,v,b,d;l._RF.push({},"50af92iJylMj7S/YusNOa0+","Magazine",void 0);var f,y=r.ccclass,M=r.property;!function(t){t[t.none=0]="none",t[t.normal=1]="normal",t[t.silver=2]="silver",t[t.golden=5]="golden"}(f||(f={}));t("Magazine",(c=y("Magazine"),g=M([s]),p=M([Number]),c((b=e((v=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,n(e,"bulletSprite",b,o(e)),e.bullet=[],n(e,"bulletRate",d,o(e)),e.main=null,e.magazineID=0,e.targetV2=null,e.moveV2=null,e.currMoveTime=0,e.startMoving=!1,e.targetAngle=0,e.spinSpeed=0,e}i(e,t);var l=e.prototype;return l.InitBullet=function(){for(var t=0;t<6;t++){var e=Math.random(),i=new a(255,255,255,255);e<this.bulletRate[f.none]?this.bullet[t]=f.none:(e-=this.bulletRate[f.none])<this.bulletRate[f.normal]?(this.bullet[t]=f.normal,i.set(0,255,255,255)):(e-=this.bulletRate[f.normal])<this.bulletRate[f.silver]?(this.bullet[t]=f.silver,i.set(255,0,0,255)):(this.bullet[t]=f.golden,i.set(255,255,0,255)),this.bulletSprite[t].color=i}},l.onClickEvent=function(){this.node.setSiblingIndex,this.main.onClick(this)},l.start=function(){},l.update=function(t){this.startMoving&&(this.moveV2=u((this.targetV2.x-this.node.position.x)/this.main.moveTime,(this.targetV2.y-this.node.position.y)/this.main.moveTime),this.startMoving=!1),this.main.moveTime>=this.currMoveTime&&null!=this.targetV2&&(this.currMoveTime+=t,this.node.setPosition(this.node.position.x+this.moveV2.x*t,this.node.position.y+this.moveV2.y*t)),this.node.angle>this.targetAngle&&(this.node.angle-=this.spinSpeed*t),this.node.angle<this.targetAngle&&(this.node.angle=this.targetAngle)},e}(h)).prototype,"bulletSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=e(v.prototype,"bulletRate",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=v))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/MagicHat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Health.ts","./Hat.ts"],(function(t){"use strict";var i,e,a,n,h,r,s,o,u,c,b,l,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){h=t.cclegacy,r=t._decorator,s=t.Node,o=t.resources,u=t.Prefab,c=t.instantiate,b=t.Component},function(t){l=t.Health},function(t){d=t.Hat}],execute:function(){var g,f,p,m,x,y,S,H,w,v,N,D,z,E,M,I,P;h._RF.push({},"93eabVw9VhKrpZazRF8Iz4U","MagicHat",void 0);var R=r.ccclass,T=r.property;t("MagicHat",(g=R("MagicHat"),f=T(s),p=T(s),m=T(l),g((S=i((y=function(t){function i(){for(var i,e=arguments.length,h=new Array(e),r=0;r<e;r++)h[r]=arguments[r];return i=t.call.apply(t,[this].concat(h))||this,a(i,"background",S,n(i)),a(i,"gameNode",H,n(i)),a(i,"playerHealth",w,n(i)),a(i,"damage",v,n(i)),a(i,"hatNumber",N,n(i)),a(i,"distance",D,n(i)),a(i,"high",z,n(i)),a(i,"moveSpeed",E,n(i)),a(i,"exchangeSpeed",M,n(i)),a(i,"exchangeTimes",I,n(i)),a(i,"waitDuration",P,n(i)),i.gameStart=!1,i.hats=[],i.hatPrefab=null,i.rabbitPrefab=null,i.rabbitID=0,i.rabbit=null,i.currExchange=0,i.exchangeEnd=!1,i.gameWin=0,i}e(i,t);var h=i.prototype;return h.start=function(){var t=this;o.load("prefab/HatPrefab",u,(function(i,e){t.hatPrefab=e})),o.load("prefab/RabbitPrefab",u,(function(i,e){t.rabbitPrefab=e}))},h.update=function(t){},h.GameStart=function(){this.background.active=!0,this.gameNode.active=!0,this.gameStart=!0,this.exchangeEnd=!1,this.currExchange=0,this.InitHats(),this.rabbitID=Math.floor(Math.random()*this.hatNumber),this.SetRabbit(),this.ShowRabbit(),this.scheduleOnce((function(){this.HideRabbit()}),this.high/this.moveSpeed+2*this.waitDuration),this.scheduleOnce((function(){this.currExchange++,this.ExchangeHat()}),this.high/this.moveSpeed*2+3*this.waitDuration)},h.InitHats=function(){for(var t=0;t<this.hatNumber;t++)this.hats[t]=c(this.hatPrefab).getComponent(d),this.gameNode.getChildByName("Hats").addChild(this.hats[t].node),this.hats[t].main=this,this.hats[t].ID=t,this.hatNumber%2==1?this.hats[t].node.setPosition(this.distance/this.hatNumber*(t-(this.hatNumber-1)/2),0):this.hats[t].node.setPosition(this.distance/this.hatNumber*(t-this.hatNumber/2+.5),0)},h.SetRabbit=function(){this.rabbit=c(this.rabbitPrefab),this.gameNode.addChild(this.rabbit),this.rabbit.setPosition(this.hats[this.rabbitID].node.position.x,this.hats[this.rabbitID].node.position.y),this.rabbit.setSiblingIndex(0)},h.ShowRabbit=function(){this.hats[this.rabbitID].SetTargetY(this.high)},h.HideRabbit=function(){this.hats[this.rabbitID].SetTargetY(0),this.scheduleOnce((function(){this.rabbit.destroy()}),this.high/this.moveSpeed)},h.ExchangeHat=function(){for(var t=Math.floor(Math.random()*this.hatNumber),i=Math.floor(Math.random()*this.hatNumber);t==i;)i=Math.floor(Math.random()*this.hatNumber);this.hats[t].SetTargetX(this.hats[i].node.position.x),this.hats[i].SetTargetX(this.hats[t].node.position.x),this.currExchange<this.exchangeTimes?(this.currExchange++,this.scheduleOnce((function(){this.ExchangeHat()}),Math.abs(this.hats[t].node.position.x-this.hats[i].node.position.x)/this.exchangeSpeed+this.waitDuration)):this.scheduleOnce((function(){this.exchangeEnd=!0}),Math.abs(this.hats[t].node.position.x-this.hats[i].node.position.x)/this.exchangeSpeed+this.waitDuration)},h.HatClick=function(t){this.exchangeEnd&&(this.exchangeEnd=!1,this.SetRabbit(),t.SetTargetY(this.high),t.ID==this.rabbitID?this.gameWin=0:this.gameWin=1,this.scheduleOnce((function(){this.ExitGame()}),this.high/this.moveSpeed+2*this.waitDuration))},h.ExitGame=function(){for(var t=0;t<this.hatNumber;t++)this.hats[t].node.destroy();this.rabbit.destroy(),this.background.active=!1,this.gameNode.active=!1,this.gameStart=!1,this.playerHealth.injured(this.damage*this.gameWin),this.playerHealth.roundSystem.ChangeRound()},i}(b)).prototype,"background",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(y.prototype,"gameNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(y.prototype,"playerHealth",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(y.prototype,"damage",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=i(y.prototype,"hatNumber",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=i(y.prototype,"distance",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=i(y.prototype,"high",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=i(y.prototype,"moveSpeed",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),M=i(y.prototype,"exchangeSpeed",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),I=i(y.prototype,"exchangeTimes",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),P=i(y.prototype,"waitDuration",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=y))||x));h._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioController.ts","./DialogueController.ts","./Enemy.ts","./EnemyAttack.ts","./GameEndController.ts","./ChooseGameController.ts","./InputController.ts","./RoundSystem.ts","./Link.ts","./Tile.ts","./Hat.ts","./MagicHat.ts","./Punch.ts","./Magazine.ts","./Revolver.ts","./CrossButton.ts","./Tetris.ts","./Button.ts","./Card.ts","./Wand.ts","./Gopher.ts","./Whac-a-mole.ts","./Player.ts","./PlayerAttack.ts","./DontDestroyCanvas.ts","./StaticData.ts","./ButtonClick.ts","./CameraController.ts","./ChooseButton.ts","./DialogueSystem.ts","./Health.ts","./HealthBar.ts","./ItemsController.ts","./PromptSystem.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Health.ts"],(function(e){"use strict";var t,a,i,r,n,l,o,p,u,c,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,o=e.Sprite,p=e.Enum,u=e.Animation,c=e.Component},function(e){m=e.Health}],execute:function(){var y,s,f,g,h,b,d,v,M,z,G;e("MiniGame",void 0),n._RF.push({},"194edgJAGtBNbYUCvI5PZyJ","Player",void 0);var H,P=l.ccclass,w=l.property;!function(e){e[e.game1=0]="game1",e[e.game2=1]="game2",e[e.game3=2]="game3",e[e.game4=3]="game4",e[e.game5=4]="game5"}(H||(H=e("MiniGame",{})));e("Player",(y=P("Player"),s=w(o),f=w({type:p(H)}),g=w({type:u}),y((d=t((b=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,i(t,"playerName",d,r(t)),i(t,"playerMaxHealth",v,r(t)),i(t,"playerSprite",M,r(t)),i(t,"playerAttack",z,r(t)),t.playerHealth=null,i(t,"anim",G,r(t)),t}a(t,e);var n=t.prototype;return n.start=function(){this.playerHealth=this.getComponent(m)},n.IntoGameMode=function(){this.anim.stop(),this.anim.play("playerIntoGameMode")},n.ExitGameMode=function(){this.anim.stop(),this.anim.play("playerExitGameMode")},t}(c)).prototype,"playerName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=t(b.prototype,"playerMaxHealth",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=t(b.prototype,"playerSprite",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(b.prototype,"playerAttack",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.game1}}),G=t(b.prototype,"anim",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=b))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerAttack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoundSystem.ts","./Punch.ts","./Revolver.ts","./Tetris.ts","./Wand.ts","./StaticData.ts","./PromptSystem.ts","./Player.ts"],(function(t){"use strict";var e,r,i,n,a,o,s,u,l,c,m,p,h,y,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Component},function(t){u=t.RoundSystem},function(t){l=t.Punch},function(t){c=t.Revolver},function(t){m=t.Tetris},function(t){p=t.Wand},function(t){h=t.StaticData},function(t){y=t.PromptSystem},function(t){S=t.Player}],execute:function(){var f,b,d,v,g,G,P,w,D,k,z,R,E,A,T,L,_;a._RF.push({},"20dbbAzpthBSoE6LL7ZDe7f","PlayerAttack",void 0);var B=o.ccclass,C=o.property;t("PlayerAttack",(f=B("PlayerAttack"),b=C(y),d=C(S),v=C(l),g=C(m),G=C(p),P=C(u),w=C(c),f((z=e((k=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"promptSystem",z,n(e)),i(e,"player",R,n(e)),i(e,"PunchGame",E,n(e)),i(e,"tetris",A,n(e)),i(e,"wand",T,n(e)),i(e,"roundSystem",L,n(e)),i(e,"revolver",_,n(e)),e}r(e,t);var a=e.prototype;return a.ChooseGame=function(){switch(h.miniGameIndex){case 1:this.Game1Start();break;case 2:this.Game2Start();break;case 3:this.Game3Start();break;case 4:this.Game4Start();break;default:this.Game1Start()}},a.Game1Start=function(){this.tetris.gameStart?this.promptSystem.EnterDialog(.05,["小游戏玩法：经典俄罗斯方块，玩家每回合获得5个图案，按左右键左右移动，下键加速下落,双击下键直接下落，上键转动，只消除一排时得一分，同时消除两排得三分，同时消除三排得5分，同时消除4排得8分"],this.tetris.ThisRoundStart.bind(this.tetris)):this.promptSystem.EnterDialog(.05,["小游戏玩法：经典俄罗斯方块，玩家每回合获得5个图案，按左右键左右移动，下键加速下落,双击下键直接下落，上键转动，只消除一排时得一分，同时消除两排得三分，同时消除三排得5分，同时消除4排得8分"],this.tetris.GameStart.bind(this.tetris))},a.Game2Start=function(){this.revolver.isPlayerControl=!0,this.revolver.magazineNumber=2,this.promptSystem.EnterDialog(.05,["小游戏玩法：经典俄罗斯轮盘,白色为空仓，蓝色为普通子弹，红色为高级子弹，金色为黄金子弹，玩家从给出的弹仓中选择一个进行击发，会从六个位置随机选择一个作为初始位置，顺时针击发两次"],this.revolver.GameStart.bind(this.revolver))},a.Game3Start=function(){this.wand.gameStart?this.promptSystem.EnterDialog(.05,["小游戏玩法：消耗法力，从你的技能中选择作为你的行动手段，初始法力值上限为5点，我方回合开始时将法力值补到上限，多余法力值一般情况下会在回合结束时被浪费"],this.wand.ThisRoundStart.bind(this.wand)):this.promptSystem.EnterDialog(.05,["小游戏玩法：消耗法力，从你的技能中选择作为你的行动手段，初始法力值上限为5点，我方回合开始时将法力值补到上限，多余法力值一般情况下会在回合结束时被浪费"],this.wand.GameStart.bind(this.wand))},a.Game4Start=function(){this.promptSystem.EnterDialog(.05,["小游戏玩法：一左一右两个按钮，玩家需要交替按下，可以从任意一边开始，完成一次交替得到攻击敌人20血，持续6秒或者按了一个按钮两次结束回合"],this.PunchGame.GameStart.bind(this.PunchGame))},a.Game5Start=function(){this.SkipRound()},a.SkipRound=function(){this.roundSystem.EnemyRoundBegin.bind(this.roundSystem)()},e}(s)).prototype,"promptSystem",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(k.prototype,"player",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(k.prototype,"PunchGame",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(k.prototype,"tetris",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(k.prototype,"wand",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(k.prototype,"roundSystem",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(k.prototype,"revolver",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=k))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/PromptSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,o,s,r,l,a,c,h,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,l=t.Label,a=t.Node,c=t.input,h=t.Input,d=t.Component}],execute:function(){var u,p,g,y,f,x,D,S;s._RF.push({},"a9a168bpFRI0Khg0lkcTaQo","PromptSystem",void 0);var v=r.ccclass,T=r.property;t("PromptSystem",(u=v("PromptSystem"),p=T(l),g=T(a),u((x=i((f=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,n(i,"playSpeed",x,o(i)),i.speed=void 0,n(i,"dialogLabel",D,o(i)),n(i,"dialogNode",S,o(i)),i.contentStr="",i.currTextIndex=0,i.currDialogIndex=0,i.isPlaying=!1,i.inDialogMode=!1,i.contentList=null,i.endEvent=null,i}e(i,t);var s=i.prototype;return s.onLoad=function(){c.on(h.EventType.TOUCH_START,this.onClickBox,this)},s.onDestroy=function(){c.off(h.EventType.TOUCH_START,this.onClickBox,this)},s.onClickBox=function(){this.inDialogMode&&(this.isPlaying?(this.dialogLabel.string=this.contentStr,this.reset()):(this.currDialogIndex++,null==this.contentList[this.currDialogIndex]?(this.currDialogIndex=0,this.ExitDialog()):this.playDialog(this.contentList[this.currDialogIndex])))},s.start=function(){this.dialogNode.active=!1},s.update=function(t){this.inDialogMode&&this.isPlaying&&(this.speed-=t,this.speed<=0&&(this.speed=this.playSpeed,null==this.contentStr[this.currTextIndex]?this.reset():(this.addText(this.contentStr[this.currTextIndex]),this.currTextIndex++)))},s.playDialog=function(t,i){this.isPlaying=!0,this.contentStr=t,this.clearContent(),i&&(this.endEvent=i)},s.setSpeed=function(t){this.playSpeed=t},s.reset=function(){this.isPlaying=!1,this.contentStr="",this.currTextIndex=0,this.speed=this.playSpeed},s.clearContent=function(){this.dialogLabel.string=""},s.addText=function(t){this.dialogLabel.string+=t},s.EnterDialogWithTxt=function(t,i,e){var n=i.text.toString().split("\n");this.EnterDialog(t,n,e)},s.EnterDialog=function(t,i,e){this.inDialogMode=!0,this.dialogNode.active=!0,this.setSpeed(t),this.speed=this.playSpeed,this.contentList=i,this.endEvent=e||null,this.playDialog(this.contentList[this.currDialogIndex])},s.ExitDialog=function(){this.reset(),this.inDialogMode=!1,this.dialogNode.active=!1,this.endEvent&&this.endEvent()},i}(d)).prototype,"playSpeed",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=i(f.prototype,"dialogLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(f.prototype,"dialogNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=f))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/Punch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Health.ts"],(function(e){"use strict";var t,i,n,r,a,u,c,o,h,l,s,m,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,u=e._decorator,c=e.Node,o=e.Label,h=e.Sprite,l=e.Animation,s=e.Input,m=e.Component},function(e){p=e.Health}],execute:function(){var f,d,b,g,y,P,T,S,v,w,z,R,H,I,x,L,k,E,G,A,F,O,_;a._RF.push({},"7fe5dQ1AFFKIZkAwoiLkLm1","Punch",void 0);var N=u.ccclass,C=u.property;e("Punch",(f=N("Punch"),d=C(c),b=C(c),g=C(o),y=C(o),P=C(h),T=C(h),S=C(p),v=C({type:l}),w=C({type:l}),f((H=t((R=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return t=e.call.apply(e,[this].concat(a))||this,n(t,"background",H,r(t)),n(t,"gameNode",I,r(t)),n(t,"punchTimes",x,r(t)),n(t,"time",L,r(t)),n(t,"maxTime",k,r(t)),n(t,"punchSprite1",E,r(t)),n(t,"punchSprite2",G,r(t)),n(t,"enemyHealth",A,r(t)),n(t,"damagePerPunch",F,r(t)),n(t,"anim1",O,r(t)),n(t,"anim2",_,r(t)),t.gameStart=!1,t.currPunches=0,t.currTime=0,t.timeRecorder=null,t.lastPunch=null,t}i(t,e);var a=t.prototype;return a.onLoad=function(){this.punchSprite1.node.on(s.EventType.TOUCH_START,this.LeftPunch,this),this.punchSprite2.node.on(s.EventType.TOUCH_START,this.RightPunch,this)},a.start=function(){},a.update=function(e){this.gameStart&&(this.punchTimes.string=Math.floor(this.currPunches/2)+" Hit",this.time.string=this.currTime+"s",this.currTime<=0&&this.ExitGame())},a.GameStart=function(){var e=this;this.currPunches=0,this.currTime=this.maxTime,this.background.active=!0,this.gameNode.active=!0,this.gameStart=!0,this.lastPunch=null,this.fadeIn(this.anim2),this.fadeIn(this.anim1),this.timeRecorder=function(){0==e.currTime&&e.unschedule(e.timeRecorder),e.currTime--},this.schedule(this.timeRecorder,1)},a.LeftPunch=function(){"left"!=this.lastPunch?(this.lastPunch="left",this.currPunches++,this.fadeOut(this.anim1),this.fadeIn(this.anim2)):this.ExitGame()},a.RightPunch=function(){"right"!=this.lastPunch?(this.lastPunch="right",this.currPunches++,this.fadeOut(this.anim2),this.fadeIn(this.anim1)):this.ExitGame()},a.ExitGame=function(){this.unschedule(this.timeRecorder),this.background.active=!1,this.gameNode.active=!1,this.gameStart=!1,this.enemyHealth.injured(Math.floor(this.currPunches/2)*this.damagePerPunch),this.enemyHealth.chooseGameController.chooseEnemyGame()},a.fadeIn=function(e){e.stop(),e.play("PunchFadeIn")},a.fadeOut=function(e){e.stop(),e.play("PunchFadeOut")},t}(m)).prototype,"background",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(R.prototype,"gameNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(R.prototype,"punchTimes",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(R.prototype,"time",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(R.prototype,"maxTime",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=t(R.prototype,"punchSprite1",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(R.prototype,"punchSprite2",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(R.prototype,"enemyHealth",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(R.prototype,"damagePerPunch",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=t(R.prototype,"anim1",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(R.prototype,"anim2",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=R))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/Revolver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoundSystem.ts","./CameraController.ts","./Health.ts","./Magazine.ts"],(function(e){"use strict";var i,t,n,a,r,o,l,u,s,c,h,m,g,p,b,d,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Node,u=e.Prefab,s=e.AudioSource,c=e.instantiate,h=e.v2,m=e.Color,g=e.Component},function(e){p=e.Turn},function(e){b=e.CameraController},function(e){d=e.Health},function(e){f=e.Magazine}],execute:function(){var z,y,S,v,M,C,P,w,N,H,k,R,T,G,A,I,D,F,_,j,x,E,B,L;r._RF.push({},"a68edeFA8tGqKn9U3/6HNuc","Revolver",void 0);var O,q=o.ccclass,K=o.property;!function(e){e[e.none=0]="none",e[e.normal=1]="normal",e[e.silver=2]="silver",e[e.golden=5]="golden"}(O||(O={}));e("Revolver",(z=q("Revolver"),y=K(l),S=K(l),v=K(d),M=K(d),C=K(u),P=K(b),w=K(s),z((k=i((H=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,n(i,"background",k,a(i)),n(i,"gameNode",R,a(i)),n(i,"enemyHealth",T,a(i)),n(i,"playerHealth",G,a(i)),n(i,"damagePerScore",A,a(i)),n(i,"magazineNumber",I,a(i)),n(i,"magazinePrefab",D,a(i)),n(i,"distance",F,a(i)),n(i,"isPlayerControl",_,a(i)),n(i,"moveTime",j,a(i)),n(i,"cameraController",x,a(i)),n(i,"audioSource",E,a(i)),i.gameStart=!1,n(i,"shootTimes",B,a(i)),i.currMagazine=null,i.magazine=[],i.isShooting=!1,n(i,"spinSpeed",L,a(i)),i}t(i,e);var r=i.prototype;return r.start=function(){},r.update=function(e){},r.GameStart=function(){this.background.active=!0,this.gameNode.active=!0,this.gameStart=!0,this.isShooting=!1,this.audioSource.play(),this.audioSource.stop(),this.InitMagazine(),this.isPlayerControl||this.scheduleOnce((function(){this.onClick(this.magazine[0])}),1)},r.InitMagazine=function(){for(var e=0;e<this.magazineNumber;e++)this.magazine[e]=c(this.magazinePrefab).getComponent(f),this.gameNode.addChild(this.magazine[e].node),this.magazine[e].main=this,this.magazineNumber%2==1?this.magazine[e].node.setPosition(this.distance/this.magazineNumber*(e-(this.magazineNumber-1)/2),0):this.magazine[e].node.setPosition(this.distance/this.magazineNumber*(e-this.magazineNumber/2+.5),0),this.magazine[e].magazineID=e,this.magazine[e].InitBullet()},r.onClick=function(e){if(!this.isShooting){e.node.angle=360,this.isShooting=!0,this.currMagazine=e;for(var i=0;i<this.magazineNumber;i++)e.magazineID!=i&&this.magazine[i].node.destroy();e.currMoveTime=0,e.targetV2=h(0,50),e.startMoving=!0;var t=Math.floor(6*Math.random());this.SpinMagazine(e,60*t,2*this.spinSpeed),this.schedule((function(){this.PlayFireAudio(t),this.Shoot(t),-1==--t&&(t=5),this.SpinMagazine(e,60*t,this.spinSpeed)}),2,this.shootTimes-1,2),this.scheduleOnce((function(){e.node.destroy(),this.ExitGame()}),6)}},r.Shoot=function(e){this.cameraController.Shake(1,1),this.isPlayerControl?this.currMagazine.bullet[e]!=O.none&&this.enemyHealth.injured(this.currMagazine.bullet[e]*this.damagePerScore):this.currMagazine.bullet[e]!=O.none&&this.playerHealth.injured(this.currMagazine.bullet[e]*this.damagePerScore);var i=new m(255,255,255,255);this.currMagazine.bulletSprite[e].color=i},r.PlayFireAudio=function(e){this.currMagazine.bullet[e]!=O.none&&(this.audioSource.stop(),this.audioSource.play())},r.SpinMagazine=function(e,i,t){300==i&&(e.node.angle=360),e.targetAngle=i,e.spinSpeed=t},r.ExitGame=function(){this.background.active=!1,this.gameNode.active=!1,this.gameStart=!1,this.enemyHealth.roundSystem.turn==p.enemyGame?this.enemyHealth.roundSystem.ChangeRound():this.enemyHealth.chooseGameController.chooseEnemyGame()},i}(g)).prototype,"background",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(H.prototype,"gameNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(H.prototype,"enemyHealth",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(H.prototype,"playerHealth",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(H.prototype,"damagePerScore",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=i(H.prototype,"magazineNumber",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),D=i(H.prototype,"magazinePrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(H.prototype,"distance",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),_=i(H.prototype,"isPlayerControl",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=i(H.prototype,"moveTime",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=i(H.prototype,"cameraController",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(H.prototype,"audioSource",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(H.prototype,"shootTimes",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),L=i(H.prototype,"spinSpeed",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),N=H))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoundSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioController.ts","./Enemy.ts","./Player.ts","./DontDestroyCanvas.ts","./StaticData.ts"],(function(e){"use strict";var n,t,i,a,r,o,l,s,u,y,m,d,c,p,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Node,s=e.SpriteFrame,u=e.director,y=e.Component},function(e){m=e.AudioController},function(e){d=e.Enemy},function(e){c=e.Player},function(e){p=e.DontDestroyCanvas},function(e){h=e.StaticData}],execute:function(){var b,f,g,C,P,v,z,B,G,R,D,S,w,E,F,W,k,I,M,x,A;e("Turn",void 0),r._RF.push({},"a9ec7VYJe9AJKujDUptLZhA","RoundSystem",void 0);var L,T=o.ccclass,_=o.property;!function(e){e[e.none=0]="none",e[e.playerBegin=1]="playerBegin",e[e.playerGame=2]="playerGame",e[e.enemyGame=3]="enemyGame",e[e.firstEnemyGame=4]="firstEnemyGame"}(L||(L=e("Turn",{})));e("RoundSystem",(b=T("RoundSystem"),f=_({type:m}),g=_(l),C=_({type:p}),P=_(c),v=_(d),z=_(s),B=_(s),G=_(s),R=_(s),b((w=n((S=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n=e.call.apply(e,[this].concat(r))||this,i(n,"audioController",w,a(n)),i(n,"buttonPanel",E,a(n)),i(n,"dontDestroyCanvas",F,a(n)),i(n,"player",W,a(n)),i(n,"enemy",k,a(n)),i(n,"madWizard",I,a(n)),i(n,"afraidWizard",M,a(n)),i(n,"senior",x,a(n)),i(n,"endPointWizard",A,a(n)),n.turn=L.none,n}t(n,e);var r=n.prototype;return r.onLoad=function(){},r.start=function(){switch(this.audioController=m.instance,this.dontDestroyCanvas=p.instance,this.dontDestroyCanvas.fadeIn(),h.gameIndex){case 1:this.audioController.PlayBgm(this.audioController.bgm05Clip),this.enemy.enemySprite.spriteFrame=this.madWizard;break;case 2:this.audioController.PlayBgm(this.audioController.bgm05Clip),this.enemy.enemySprite.spriteFrame=this.afraidWizard;break;case 3:this.audioController.PlayBgm(this.audioController.bgm05Clip),this.enemy.enemySprite.spriteFrame=this.senior;break;case 4:this.audioController.PlayBgm(this.audioController.bgm05Clip),this.enemy.enemySprite.spriteFrame=this.endPointWizard}},r.ChangeRound=function(){switch(this.turn){case L.none:this.PlayerRoundBegin();break;case L.playerBegin:this.PlayerGameBegin();break;case L.playerGame:this.EnemyRoundBegin();break;case L.enemyGame:this.RePlayerRoundBegin();break;case L.firstEnemyGame:this.EnemyFirstRoundBegin()}},r.PlayerRoundBegin=function(){this.turn=L.playerBegin,this.buttonPanel.active=!0},r.PlayerGameBegin=function(){this.player.IntoGameMode(),this.enemy.IntoGameMode(),this.turn=L.playerGame,this.buttonPanel.active=!1},r.EnemyFirstRoundBegin=function(){this.player.IntoGameMode(),this.enemy.IntoGameMode(),this.turn=L.enemyGame,this.buttonPanel.active=!1},r.EnemyRoundBegin=function(){this.turn=L.enemyGame,this.buttonPanel.active=!1},r.RePlayerRoundBegin=function(){this.player.ExitGameMode(),this.enemy.ExitGameMode(),this.turn=L.playerBegin,this.buttonPanel.active=!0},r.EndScene=function(){this.dontDestroyCanvas.fadeOut(),this.audioController.bgmFadeOut(),h.dialogueIndex++,u.preloadScene("dialogue"),setTimeout((function(){u.loadScene("dialogue")}),2e3)},n}(y)).prototype,"audioController",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=n(S.prototype,"buttonPanel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(S.prototype,"dontDestroyCanvas",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=n(S.prototype,"player",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(S.prototype,"enemy",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=n(S.prototype,"madWizard",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=n(S.prototype,"afraidWizard",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(S.prototype,"senior",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(S.prototype,"endPointWizard",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=S))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/StaticData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,a,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator,r=t.Component}],execute:function(){var c,i;a._RF.push({},"60dceTzjYpFb5IYKGaeYHCi","StaticData",void 0);var o=n.ccclass;n.property,t("StaticData",o("StaticData")(((i=function(t){function a(){return t.apply(this,arguments)||this}return e(a,t),a}(r)).gameIndex=0,i.dialogueIndex=0,i.miniGameIndex=0,i.playerCurrentHealth=200,c=i))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/Tetris.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Health.ts"],(function(t){"use strict";var o,i,s,r,e,n,h,c,l,a,u,k,P,B,b,f;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){e=t.cclegacy,n=t._decorator,h=t.Prefab,c=t.SpriteFrame,l=t.Node,a=t.Label,u=t.Sprite,k=t.instantiate,P=t.v2,B=t.v3,b=t.Component},function(t){f=t.Health}],execute:function(){var d,p,g,x,C,y,w,L,m,v,S,D,R,z,H,G,K,N,T,W,I,A;e._RF.push({},"83085USrMRIN4GivIsbItfr","Tetris",void 0);var F=n.ccclass,M=n.property;t("Tetris",(d=F("Tetris"),p=M([h]),g=M([c]),x=M(l),C=M(l),y=M(f),w=M(l),L=M(a),m=M(u),d((D=o((S=function(t){function o(){for(var o,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return o=t.call.apply(t,[this].concat(e))||this,s(o,"block",D,r(o)),s(o,"nextBlock",R,r(o)),s(o,"background",z,r(o)),s(o,"gameNode",H,r(o)),s(o,"enemyHealth",G,r(o)),s(o,"tetrisBackground",K,r(o)),s(o,"blockLength",N,r(o)),s(o,"damagePerScore",T,r(o)),s(o,"scoreLabel",W,r(o)),s(o,"shadowAlpha",I,r(o)),s(o,"nextBlockSprite",A,r(o)),o.box=[],o.rand=[],o.currentBlock=null,o.currentBlockPart=[],o.currentBlockPartPos=[],o.shadowBlock=null,o.shadowBlockPart=[],o.shadowBlockPartPos=[],o.gameStart=!1,o.actionable=!1,o.remainBlock=0,o.score=0,o.autoDown=null,o}i(o,t);var e=o.prototype;return e.onLoad=function(){},e.update=function(){this.scoreLabel.string="分数\n"+100*this.score},e.GameStart=function(){this.background.active=!0,this.gameNode.active=!0,this.gameStart=!0,this.remainBlock=5,this.score=0,this.actionable=!0,this.InitRand(),this.InitBox(),this.AutoDown()},e.ThisRoundStart=function(){this.background.active=!0,this.gameNode.active=!0,this.remainBlock=5,this.score=0,this.actionable=!0,this.InitRand(),this.BuildBlock(),this.AutoDown()},e.InitBox=function(){for(var t=0;t<20;t++){this.box[t]=[];for(var o=0;o<10;o++)this.box[t][o]=null}this.BuildBlock()},e.InitRand=function(){for(var t=this.remainBlock-1;t>=0;t--)this.rand[t]=Math.floor(7*Math.random())},e.BuildBlock=function(){this.remainBlock--,this.remainBlock<0?this.ThisRoundEnd():(this.ChooseColor(this.rand[this.remainBlock]),this.ChooseType(this.rand[this.remainBlock]),this.ShowNextBlock(),this.BuildShadow(),this.ShadowDrop())},e.ShowNextBlock=function(){this.remainBlock>0?this.nextBlockSprite.spriteFrame=this.nextBlock[this.rand[this.remainBlock-1]]:this.nextBlockSprite.spriteFrame=null},e.ChooseColor=function(t){for(var o=1;o<=4;o++)this.currentBlockPart[o]=k(this.block[t]);switch(this.currentBlock=new l,this.tetrisBackground.addChild(this.currentBlock),t){case 0:this.currentBlock.setPosition(0,8*this.blockLength);break;case 1:case 2:case 3:case 4:this.currentBlock.setPosition(.5*this.blockLength,8.5*this.blockLength);break;case 5:case 6:this.currentBlock.setPosition(.5*this.blockLength,7.5*this.blockLength)}for(var i=1;i<=4;i++)this.currentBlock.addChild(this.currentBlockPart[i])},e.ChooseType=function(t){0==t&&(this.currentBlockPart[1].setPosition(.5*this.blockLength,.5*this.blockLength),this.currentBlockPartPos[1]=P(18,5),this.currentBlockPart[2].setPosition(.5*-this.blockLength,.5*this.blockLength),this.currentBlockPartPos[2]=P(18,4),this.currentBlockPart[3].setPosition(.5*this.blockLength,.5*-this.blockLength),this.currentBlockPartPos[3]=P(17,5),this.currentBlockPart[4].setPosition(.5*-this.blockLength,.5*-this.blockLength),this.currentBlockPartPos[4]=P(17,4)),1==t&&(this.currentBlockPart[1].setPosition(-this.blockLength,0),this.currentBlockPartPos[1]=P(18,4),this.currentBlockPart[2].setPosition(0,0),this.currentBlockPartPos[2]=P(18,5),this.currentBlockPart[3].setPosition(0,-this.blockLength),this.currentBlockPartPos[3]=P(17,5),this.currentBlockPart[4].setPosition(this.blockLength,-this.blockLength),this.currentBlockPartPos[4]=P(17,6)),2==t&&(this.currentBlockPart[1].setPosition(0,this.blockLength),this.currentBlockPartPos[1]=P(19,5),this.currentBlockPart[2].setPosition(0,0),this.currentBlockPartPos[2]=P(18,5),this.currentBlockPart[3].setPosition(0,-this.blockLength),this.currentBlockPartPos[3]=P(17,5),this.currentBlockPart[4].setPosition(this.blockLength,-this.blockLength),this.currentBlockPartPos[4]=P(17,6)),3==t&&(this.currentBlockPart[1].setPosition(0,this.blockLength),this.currentBlockPartPos[1]=P(19,5),this.currentBlockPart[2].setPosition(0,0),this.currentBlockPartPos[2]=P(18,5),this.currentBlockPart[3].setPosition(0,-this.blockLength),this.currentBlockPartPos[3]=P(17,5),this.currentBlockPart[4].setPosition(-this.blockLength,-this.blockLength),this.currentBlockPartPos[4]=P(17,4)),4==t&&(this.currentBlockPart[1].setPosition(this.blockLength,0),this.currentBlockPartPos[1]=P(18,6),this.currentBlockPart[2].setPosition(0,0),this.currentBlockPartPos[2]=P(18,5),this.currentBlockPart[3].setPosition(0,-this.blockLength),this.currentBlockPartPos[3]=P(17,5),this.currentBlockPart[4].setPosition(-this.blockLength,-this.blockLength),this.currentBlockPartPos[4]=P(17,4)),5==t&&(this.currentBlockPart[1].setPosition(0,2*this.blockLength),this.currentBlockPartPos[1]=P(19,5),this.currentBlockPart[2].setPosition(0,this.blockLength),this.currentBlockPartPos[2]=P(18,5),this.currentBlockPart[3].setPosition(0,0),this.currentBlockPartPos[3]=P(17,5),this.currentBlockPart[4].setPosition(0,-this.blockLength),this.currentBlockPartPos[4]=P(16,5)),6==t&&(this.currentBlockPart[1].setPosition(0,this.blockLength),this.currentBlockPartPos[1]=P(18,5),this.currentBlockPart[2].setPosition(-this.blockLength,0),this.currentBlockPartPos[2]=P(17,4),this.currentBlockPart[3].setPosition(0,0),this.currentBlockPartPos[3]=P(17,5),this.currentBlockPart[4].setPosition(this.blockLength,0),this.currentBlockPartPos[4]=P(17,6)),this.CheckCurrentBlockPos()},e.CheckCurrentBlockPos=function(){for(var t=1;t<=4;t++)this.box[this.currentBlockPartPos[t].x][this.currentBlockPartPos[t].y]=this.currentBlockPart[t]},e.DeleteCurrentBlockPos=function(){for(var t=1;t<=4;t++)this.box[this.currentBlockPartPos[t].x][this.currentBlockPartPos[t].y]=null},e.AutoDown=function(){var t=this;this.autoDown=function(){if(t.isClashBottom())console.log("isClashBottom"),t.DeleteShadow(),t.deleteRow(),t.BuildBlock();else if(t.isClashBlockDown()){if(console.log("isClashBlockDown"),t.DeleteShadow(),t.isGameOver(),!t.gameStart)return;t.deleteRow(),t.BuildBlock()}else{t.currentBlock.setPosition(B(t.currentBlock.position.x,t.currentBlock.position.y-t.blockLength)),t.DeleteCurrentBlockPos();for(var o=1;o<=4;o++)t.currentBlockPartPos[o].x-=1;t.CheckCurrentBlockPos()}},this.schedule(this.autoDown,1)},e.LeftButton=function(){if(!this.isClashLeft()&&!this.isClashBlockLeft()){this.currentBlock.setPosition(B(this.currentBlock.position.x-this.blockLength,this.currentBlock.position.y)),this.DeleteCurrentBlockPos();for(var t=1;t<=4;t++)this.currentBlockPartPos[t].y-=1;this.CheckCurrentBlockPos(),this.ShadowDrop()}},e.RightButton=function(){if(!this.isClashRight()&&!this.isClashBlockRight()){this.currentBlock.setPosition(B(this.currentBlock.position.x+this.blockLength,this.currentBlock.position.y)),this.DeleteCurrentBlockPos();for(var t=1;t<=4;t++)this.currentBlockPartPos[t].y+=1;this.CheckCurrentBlockPos(),this.ShadowDrop()}},e.UpButton=function(){this.DeleteCurrentBlockPos(),this.ChangeShape(),this.isKickWallLeft()?this.KickWallLeft():this.isKickWallRight()&&this.KickWallRight(),this.CheckCurrentBlockPos(),this.ShadowDrop()},e.isKickWallLeft=function(){return null!=this.box[this.currentBlockPartPos[1].x][this.currentBlockPartPos[1].y]&&!this.isCurrentBlockChild(this.box[this.currentBlockPartPos[1].x][this.currentBlockPartPos[1].y])||null!=this.box[this.currentBlockPartPos[2].x][this.currentBlockPartPos[2].y]&&!this.isCurrentBlockChild(this.box[this.currentBlockPartPos[2].x][this.currentBlockPartPos[2].y])||null!=this.box[this.currentBlockPartPos[3].x][this.currentBlockPartPos[3].y]&&!this.isCurrentBlockChild(this.box[this.currentBlockPartPos[3].x][this.currentBlockPartPos[3].y])||null!=this.box[this.currentBlockPartPos[4].x][this.currentBlockPartPos[4].y]&&!this.isCurrentBlockChild(this.box[this.currentBlockPartPos[4].x][this.currentBlockPartPos[4].y])||this.currentBlockPartPos[1].y<0||this.currentBlockPartPos[2].y<0||this.currentBlockPartPos[3].y<0||this.currentBlockPartPos[4].y<0},e.isKickWallRight=function(){return null!=this.box[this.currentBlockPartPos[1].x][this.currentBlockPartPos[1].y]&&!this.isCurrentBlockChild(this.box[this.currentBlockPartPos[1].x][this.currentBlockPartPos[1].y])||null!=this.box[this.currentBlockPartPos[2].x][this.currentBlockPartPos[2].y]&&!this.isCurrentBlockChild(this.box[this.currentBlockPartPos[2].x][this.currentBlockPartPos[2].y])||null!=this.box[this.currentBlockPartPos[3].x][this.currentBlockPartPos[3].y]&&!this.isCurrentBlockChild(this.box[this.currentBlockPartPos[3].x][this.currentBlockPartPos[3].y])||null!=this.box[this.currentBlockPartPos[4].x][this.currentBlockPartPos[4].y]&&!this.isCurrentBlockChild(this.box[this.currentBlockPartPos[4].x][this.currentBlockPartPos[4].y])||this.currentBlockPartPos[1].y>9||this.currentBlockPartPos[2].y>9||this.currentBlockPartPos[3].y>9||this.currentBlockPartPos[4].y>9},e.DownButton=function(){if(!this.isClashBottom()&&!this.isClashBlockDown()){this.currentBlock.setPosition(B(this.currentBlock.position.x,this.currentBlock.position.y-this.blockLength)),this.DeleteCurrentBlockPos();for(var t=1;t<=4;t++)this.currentBlockPartPos[t].x-=1;this.CheckCurrentBlockPos()}},e.isClashLeft=function(){for(var t=1;t<=4;t++)if(this.currentBlockPartPos[t].y-1<0)return!0;return!1},e.isClashRight=function(){for(var t=1;t<=4;t++)if(this.currentBlockPartPos[t].y+1>9)return!0;return!1},e.isClashBottom=function(){for(var t=1;t<=4;t++)if(this.currentBlockPartPos[t].x-1<0)return!0;return!1},e.isClashBlockDown=function(){for(var t=1;t<=4;t++)if(null!=this.box[this.currentBlockPartPos[t].x-1][this.currentBlockPartPos[t].y]&&!this.isCurrentBlockChild(this.box[this.currentBlockPartPos[t].x-1][this.currentBlockPartPos[t].y]))return!0;return!1},e.isClashBlockLeft=function(){for(var t=1;t<=4;t++)if(null!=this.box[this.currentBlockPartPos[t].x][this.currentBlockPartPos[t].y-1]&&!this.isCurrentBlockChild(this.box[this.currentBlockPartPos[t].x][this.currentBlockPartPos[t].y-1]))return!0;return!1},e.isClashBlockRight=function(){for(var t=1;t<=4;t++)if(null!=this.box[this.currentBlockPartPos[t].x][this.currentBlockPartPos[t].y+1]&&!this.isCurrentBlockChild(this.box[this.currentBlockPartPos[t].x][this.currentBlockPartPos[t].y+1]))return!0;return!1},e.isCurrentBlockChild=function(t){for(var o=0;o<4;o++)if(t===this.currentBlock.children[o]||t===this.shadowBlock.children[o])return!0;return!1},e.ChangeShape=function(){for(var t=1;t<=4;t++)this.whichPartChange(this.currentBlockPart[t],this.currentBlockPartPos[t])},e.whichPartChange=function(t,o){var i=Math.abs(t.position.x/this.blockLength),s=Math.abs(t.position.y/this.blockLength),r=Math.max(i,s);0==t.position.x&&t.position.y>0?(o.x-=r,o.y+=r,t.setPosition(t.position.y,t.position.x)):t.position.x<0&&0==t.position.y?(o.x+=r,o.y+=r,t.setPosition(t.position.y,-t.position.x)):0==t.position.x&&t.position.y<0?(o.x+=r,o.y-=r,t.setPosition(t.position.y,t.position.x)):t.position.x>0&&0==t.position.y&&(o.x-=r,o.y-=r,t.setPosition(t.position.y,-t.position.x)),t.position.x>0&&t.position.y>0?(t.position.x>=this.blockLength&&t.position.y>=this.blockLength?o.x-=2:o.x-=1,t.setPosition(t.position.x,-t.position.y)):t.position.x<0&&t.position.y>0?(t.position.x<=-this.blockLength&&t.position.y>=this.blockLength?o.y+=2:o.y+=1,t.setPosition(-t.position.x,t.position.y)):t.position.x<0&&t.position.y<0?(t.position.x<=-this.blockLength&&t.position.y<=-this.blockLength?o.x+=2:o.x+=1,t.setPosition(t.position.x,-t.position.y)):t.position.x>0&&t.position.y<0&&(t.position.x>=this.blockLength&&t.position.y<=-this.blockLength?o.y-=2:o.y-=1,t.setPosition(-t.position.x,t.position.y))},e.KickWallLeft=function(){5!=this.rand[this.remainBlock]?this.isClashBlockRight()?(this.ChangeShape(),this.ChangeShape(),this.ChangeShape()):this.RightButton():this.isClashBlockRight()?(this.ChangeShape(),this.ChangeShape(),this.ChangeShape()):(this.RightButton(),this.isKickWallLeft()&&(this.isClashBlockRight()?(this.LeftButton(),this.ChangeShape(),this.ChangeShape(),this.ChangeShape()):this.RightButton()))},e.KickWallRight=function(){5!=this.rand[this.remainBlock]?this.isClashBlockLeft()?(this.ChangeShape(),this.ChangeShape(),this.ChangeShape()):this.LeftButton():this.isClashBlockLeft()?(this.ChangeShape(),this.ChangeShape(),this.ChangeShape()):(this.LeftButton(),this.isKickWallRight()&&(this.isClashBlockLeft()?(this.RightButton(),this.ChangeShape(),this.ChangeShape(),this.ChangeShape()):this.LeftButton()))},e.deleteRow=function(){for(var t=0,o=0;o<18;o++){for(var i=0,s=0;s<10;s++)null!=this.box[o][s]&&i++;if(10==i){t++;for(var r=0;r<10;r++)this.box[o][r].removeFromParent(),this.box[o][r]=null;this.rowDown(o),o--}}switch(t){case 1:this.score+=1,this.enemyHealth.injured(100);break;case 2:this.score+=3,this.enemyHealth.injured(300);break;case 3:this.score+=5,this.enemyHealth.injured(500);break;case 4:this.score+=8,this.enemyHealth.injured(800)}},e.rowDown=function(t){for(var o=t,i=0;i<10;i++){var s=-1;for(t=o;t<18;t++)s++,null!=this.box[t][i]&&(this.box[t-1][i]=this.box[t][i],this.box[t][i].setPosition(this.box[t][i].position.x,this.box[t][i].position.y-this.blockLength),null==this.box[t+1][i]&&(this.box[s+o][i]=null))}},e.isGameOver=function(){for(var t=16;t<20;t++)for(var o=0;o<10;o++)null!=this.box[t][o]&&this.ExitGame()},e.ThisRoundEnd=function(){this.unschedule(this.autoDown),this.actionable=!1,this.scheduleOnce((function(){this.background.active=!1,this.gameNode.active=!1,this.enemyHealth.chooseGameController.chooseEnemyGame()}),.5)},e.ExitGame=function(){this.unschedule(this.autoDown),this.actionable=!1,this.gameStart=!1;var t=0;this.schedule((function(){for(var o=0;o<10;o++)null!=this.box[t][o]&&(this.box[t][o].removeFromParent(),this.box[t][o]=null);t++}),.1,19,1),this.scheduleOnce((function(){this.background.active=!1,this.gameNode.active=!1,this.enemyHealth.injured(this.score*this.damagePerScore),this.enemyHealth.chooseGameController.chooseEnemyGame()}),3)},e.Drop=function(){for(;!this.isClashBottom()&&!this.isClashBlockDown();)this.DownButton()},e.BuildShadow=function(){this.shadowBlock=new l,this.tetrisBackground.addChild(this.shadowBlock),this.shadowBlock.setPosition(this.currentBlock.position);for(var t=1;t<=4;t++)this.shadowBlockPart[t]=k(this.currentBlockPart[t]),this.shadowBlockPart[t].getComponent(u).color.set(255,255,255,this.shadowAlpha),this.shadowBlock.addChild(this.shadowBlockPart[t]),this.shadowBlockPart[t].setPosition(this.currentBlockPart[t].position),this.shadowBlockPartPos[t]=this.currentBlockPartPos[t].clone()},e.ShadowDrop=function(){this.shadowBlock.setPosition(this.currentBlock.position);for(var t=1;t<=4;t++)this.shadowBlockPartPos[t]=this.currentBlockPartPos[t].clone(),this.shadowBlockPart[t].setPosition(this.currentBlockPart[t].position);for(;!this.isShadowClashBottom()&&!this.isShadowClashBlockDown();){this.shadowBlock.setPosition(B(this.shadowBlock.position.x,this.shadowBlock.position.y-this.blockLength));for(var o=1;o<=4;o++)this.shadowBlockPartPos[o].x-=1}},e.DeleteShadow=function(){this.shadowBlock.destroy()},e.isShadowClashBottom=function(){for(var t=1;t<=4;t++)if(this.shadowBlockPartPos[t].x-1<0)return!0;return!1},e.isShadowClashBlockDown=function(){for(var t=1;t<=4;t++)if(null!=this.box[this.shadowBlockPartPos[t].x-1][this.shadowBlockPartPos[t].y]&&!this.isShadowBlockChild(this.box[this.shadowBlockPartPos[t].x-1][this.shadowBlockPartPos[t].y]))return!0;return!1},e.isShadowBlockChild=function(t){for(var o=0;o<4;o++)if(t===this.shadowBlock.children[o]||t===this.currentBlock.children[o])return!0;return!1},o}(b)).prototype,"block",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=o(S.prototype,"nextBlock",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=o(S.prototype,"background",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=o(S.prototype,"gameNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=o(S.prototype,"enemyHealth",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=o(S.prototype,"tetrisBackground",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=o(S.prototype,"blockLength",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=o(S.prototype,"damagePerScore",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=o(S.prototype,"scoreLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=o(S.prototype,"shadowAlpha",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 120}}),A=o(S.prototype,"nextBlockSprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=S))||v));e._RF.pop()}}}));

System.register("chunks:///_virtual/Tile.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,r,o,n,s,a,l,p,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,a=t.SpriteFrame,l=t.Sprite,p=t.v3,h=t.Component}],execute:function(){var c,u,S,d,f;n._RF.push({},"27472Hcp59FOpy0ouXRS99H","Tile",void 0);var g=s.ccclass,m=s.property;t("Tile",(c=g("Tile"),u=m([a]),c((f=i((d=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return i=t.call.apply(t,[this].concat(n))||this,r(i,"tileSpriteFrame",f,o(i)),i.tileSprite=null,i.type=0,i.link=null,i.isSelected=!1,i.targetRotation=0,i.rotationY=0,i.rotationSpeed=360,i}e(i,t);var n=i.prototype;return n.update=function(t){this.tileSprite=this.getComponent(l),180==this.targetRotation&&this.rotationY<this.targetRotation&&(this.rotationY+=t*this.rotationSpeed),0==this.targetRotation&&this.rotationY>this.targetRotation&&(this.rotationY-=t*this.rotationSpeed),this.node.eulerAngles=p(0,this.rotationY,0),this.rotationY<=90?this.tileSprite.spriteFrame=this.tileSpriteFrame[9]:this.tileSprite.spriteFrame=this.tileSpriteFrame[this.type]},n.SetType=function(t){this.tileSprite=this.getComponent(l),this.tileSprite.spriteFrame=this.tileSpriteFrame[t],this.type=t},n.OnCLickEvent=function(){this.link.OnTileClick(this)},n.SetIsSelected=function(t){this.tileSprite=this.getComponent(l),this.isSelected=t,this.targetRotation=t?180:0},n.IsLink=function(){this.node.active=!1,this.node.destroy()},i}(h)).prototype,"tileSpriteFrame",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=d))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/Wand.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoundSystem.ts","./Health.ts","./Card.ts"],(function(e){"use strict";var t,i,a,n,o,r,s,c,l,h,u,d,m,b,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Node,c=e.Label,l=e.Prefab,h=e.instantiate,u=e.Button,d=e.Component},function(e){m=e.RoundSystem},function(e){b=e.Health},function(e){g=e.Card}],execute:function(){var f,C,p,v,w,y,D,L,N,M,k,S,T,P,x,z,A,H,O,R,I,B,E,F,Z,U,W,_,G;o._RF.push({},"3833bZz639Pao2yfyiNDsaJ","Wand",void 0);var j=r.ccclass,J=r.property;e("Wand",(f=j("Wand"),C=J(m),p=J(s),v=J(s),w=J(b),y=J(b),D=J(c),L=J(c),N=J(c),M=J([l]),k=J([Boolean]),S=J(s),T=J(c),f((z=t((x=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,a(t,"roundSystem",z,n(t)),a(t,"background",A,n(t)),a(t,"gameNode",H,n(t)),a(t,"enemyHealth",O,n(t)),a(t,"playerHealth",R,n(t)),a(t,"damagePerScore",I,n(t)),a(t,"manaLabel",B,n(t)),a(t,"introductionLabel",E,n(t)),a(t,"coolDownLabel",F,n(t)),a(t,"setMaxMana",Z,n(t)),a(t,"magicCardsPre",U,n(t)),a(t,"magicCardsAvailable",W,n(t)),a(t,"defenseNode",_,n(t)),a(t,"defenseLabel",G,n(t)),t.firstLevelOptions=null,t.secondLevelOptions=null,t.gameStart=!1,t.currentRound=0,t.magicCards=[],t.maxMana=5,t.currMana=5,t.doubleMagic=!1,t.powerNumber=0,t.powerTime=0,t.manaUpgrade=!1,t.nextCardZeroCost=!1,t.defenseTime=0,t.lastChoose=null,t.actionable=!1,t.attackAndDefenseNode=null,t.magicNode=null,t.deviceNode=null,t}i(t,e);var o=t.prototype;return o.GameStart=function(){this.background.active=!0,this.gameNode.active=!0,this.defenseNode.active=!0,this.gameStart=!0,this.currentRound=0,this.maxMana=this.setMaxMana,this.currMana=this.maxMana,this.doubleMagic=!1,this.powerNumber=0,this.powerTime=0,this.manaUpgrade=!1,this.nextCardZeroCost=!1,this.defenseTime=0,this.playerHealth.currDefense=0,this.lastChoose=null,this.actionable=!1,this.firstLevelOptions=this.gameNode.getChildByName("FirstLevelOptions"),this.secondLevelOptions=this.gameNode.getChildByName("SecondLevelOptions"),this.attackAndDefenseNode=this.secondLevelOptions.getChildByName("Attack&Defense"),this.magicNode=this.secondLevelOptions.getChildByName("Magic"),this.deviceNode=this.secondLevelOptions.getChildByName("Device"),this.ReturnToFirstLevel(),this.InitCard(),this.scheduleOnce(this.EnableToClickButton,.5)},o.EnableToClickButton=function(){this.actionable=!0},o.AttackAndDefense=function(){this.IntoSecondLevel(),this.attackAndDefenseNode.active=!0,this.magicNode.active=!1,this.deviceNode.active=!1},o.Magic=function(){this.IntoSecondLevel(),this.attackAndDefenseNode.active=!1,this.magicNode.active=!0,this.deviceNode.active=!1},o.Device=function(){this.IntoSecondLevel(),this.attackAndDefenseNode.active=!1,this.magicNode.active=!1,this.deviceNode.active=!0},o.Return=function(){this.background.active=!1,this.gameNode.active=!1},o.InitCard=function(){for(var e=0,t=0;t<=3;t++){if(this.magicCardsAvailable[t]){var i=h(this.magicCardsPre[t]).getComponent(g);i.node.setParent(this.attackAndDefenseNode),i.node.setPosition(-195,50*(5-e)),i.main=this,i.button=i.node.getComponent(u),this.magicCards[t]=i}e++}e=0;for(var a=4;a<=8;a++){if(this.magicCardsAvailable[a]){var n=h(this.magicCardsPre[a]).getComponent(g);n.node.setParent(this.magicNode),n.node.setPosition(-195,50*(5-e)),n.main=this,n.button=n.node.getComponent(u),this.magicCards[a]=n}e++}e=0;for(var o=9;o<=10;o++){if(this.magicCardsAvailable[o]){var r=h(this.magicCardsPre[o]).getComponent(g);r.node.setParent(this.deviceNode),r.node.setPosition(-195,50*(14-o)),r.main=this,r.button=r.node.getComponent(u),this.magicCards[o]=r}e++}},o.ThisRoundStart=function(){this.background.active=!0,this.gameNode.active=!0,this.currentRound+=1,this.actionable=!1,this.scheduleOnce(this.EnableToClickButton,.5),this.ReturnToFirstLevel(),this.manaUpgrade&&this.currentRound%2==1?this.currMana+=this.maxMana:this.currMana=this.maxMana,this.playerHealth.currDefense>0&&(this.defenseTime-=1,0==this.defenseTime&&(this.playerHealth.currDefense=0)),0!=this.powerNumber&&(this.powerTime-=1,0==this.powerTime&&(this.powerNumber=0));for(var e=0;e<=10;e++)this.magicCardsAvailable[e]&&(this.magicCards[e].node.active=!0,this.magicCards[e].currCoolDown>0&&(this.magicCards[e].currCoolDown-=1))},o.ThisRoundEnd=function(){this.background.active=!1,this.gameNode.active=!1,this.ReturnToFirstLevel(),this.enemyHealth.chooseGameController.chooseEnemyGame()},o.onClickEvent=function(e){return null!=this.lastChoose&&this.lastChoose!=e.cardId?(this.magicCards[this.lastChoose].isChoose=!1,this.introductionLabel.string=e.introduction,this.lastChoose=e.cardId,e.isChoose=!0,this.ShowCoolDown(e),void(e.isCoolDown||(e.button.interactable=!1))):e.isChoose?(this.introductionLabel.string="",e.isChoose=!1,this.lastChoose=null,this.CostMana(e),this.doubleMagic&&(this.doubleMagic=!1,this.Hit(e),this.SpecialEffect(e)),this.Hit(e),this.SpecialEffect(e),this.IntoCoolDown(e),void this.ReturnToFirstLevel()):(e.isChoose=!0,this.introductionLabel.string=e.introduction,this.lastChoose=e.cardId,this.ShowCoolDown(e),void(e.isCoolDown||(e.button.interactable=!1)))},o.ShowCoolDown=function(e){e.isDevice?0!=e.currCoolDown?this.coolDownLabel.string="状态：已启用":this.coolDownLabel.string="状态：未启用":0!=e.currCoolDown?this.coolDownLabel.string="冷却时间："+e.currCoolDown+"回合":this.coolDownLabel.string=""},o.CostMana=function(e){this.nextCardZeroCost?this.nextCardZeroCost=!1:8==e.cardId?this.currMana=0:this.currMana-=e.costMana},o.Hit=function(e){0!=e.damage&&this.enemyHealth.injured((e.damage+this.powerNumber)*e.damageTimes*this.damagePerScore)},o.SpecialEffect=function(e){switch(e.cardId){case 1:case 2:this.playerHealth.currDefense+=100*e.defense,this.defenseTime=1;break;case 4:this.doubleMagic=!0;break;case 5:this.currMana+=3;break;case 7:this.powerNumber=1,this.powerTime=2;break;case 8:this.nextCardZeroCost=!0;break;case 9:this.maxMana+=3;break;case 10:this.manaUpgrade=!0}},o.IntoCoolDown=function(e){this.magicCards[e.cardId].currCoolDown=e.coolDownTime},o.ReturnToFirstLevel=function(){this.secondLevelOptions.active=!1,this.firstLevelOptions.active=!0},o.IntoSecondLevel=function(){this.secondLevelOptions.active=!0,this.firstLevelOptions.active=!1},o.start=function(){},o.update=function(e){if(this.manaLabel.string="法力值\n"+this.currMana+"/"+this.maxMana,this.defenseLabel.string="护盾值："+this.playerHealth.currDefense,this.gameStart&&this.secondLevelOptions.active)for(var t=0;t<=10;t++)this.magicCardsAvailable[t]&&(this.magicCards[t].node.active=!0,0==this.magicCards[t].currCoolDown&&(this.currMana>=this.magicCards[t].costMana||this.nextCardZeroCost)?(this.magicCards[t].isCoolDown=!0,this.magicCards[t].button.interactable=!0):this.magicCards[t].isCoolDown=!1)},t}(d)).prototype,"roundSystem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(x.prototype,"background",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(x.prototype,"gameNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(x.prototype,"enemyHealth",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(x.prototype,"playerHealth",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(x.prototype,"damagePerScore",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(x.prototype,"manaLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(x.prototype,"introductionLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(x.prototype,"coolDownLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(x.prototype,"setMaxMana",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),U=t(x.prototype,"magicCardsPre",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(x.prototype,"magicCardsAvailable",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(x.prototype,"defenseNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(x.prototype,"defenseLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=x))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/Whac-a-mole.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Health.ts","./Gopher.ts"],(function(e){"use strict";var t,r,i,a,n,o,c,l,s,h,u,p,g,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,c=e.Node,l=e.Label,s=e.resources,h=e.Prefab,u=e.instantiate,p=e.Component},function(e){g=e.Health},function(e){f=e.Gopher}],execute:function(){var d,m,b,k,y,C,G,v,_,w,z,S,E,H,N;n._RF.push({},"7d090+5cEVBgKUTrsnP9ExP","Whac-a-mole",void 0);var P=o.ccclass,I=o.property;e("Whac_a_mole",(d=P("Whac_a_mole"),m=I(c),b=I(c),k=I(l),y=I(g),C=I([c]),d((_=t((v=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).gopher=null,i(t,"background",_,a(t)),i(t,"gameNode",w,a(t)),i(t,"clicks",z,a(t)),i(t,"targetClicks",S,a(t)),i(t,"playerHealth",E,a(t)),i(t,"damagePerClick",H,a(t)),i(t,"holeNode",N,a(t)),t.gameStart=!1,t.currClicks=0,t.currGopher=0,t.gopherEscape=null,t}r(t,e);var n=t.prototype;return n.start=function(){var e=this;s.load("prefab/Gopher",h,(function(t,r){e.gopher=r}))},n.update=function(e){this.gameStart&&(this.clicks.string="当前击打地鼠："+this.currClicks+"/"+this.targetClicks,this.currGopher==this.targetClicks&&this.ExitGame())},n.GameStart=function(){this.currClicks=0,this.currGopher=0,this.background.active=!0,this.gameNode.active=!0,this.gameStart=!0,this.InitGopher()},n.HitGopher=function(){this.gameStart&&(this.currClicks++,this.currGopher++,this.unschedule(this.gopherEscape),this.scheduleOnce((function(){this.InitGopher()}),1.5*Math.random()+1.5))},n.InitGopher=function(){if(this.gameStart){var e=Math.floor(6*Math.random()),t=u(this.gopher);this.holeNode[e].addChild(t),t.getComponent(f).whac_a_mole=this,this.gopherEscape=function(){t.destroy(),this.currGopher++,this.scheduleOnce((function(){this.InitGopher()}),1.5*Math.random()+1.5)},this.scheduleOnce(this.gopherEscape,1.5)}},n.ExitGame=function(){this.background.active=!1,this.gameNode.active=!1,this.gameStart=!1,this.playerHealth.injured((this.targetClicks-this.currClicks)*this.damagePerClick),this.playerHealth.roundSystem.ChangeRound()},t}(p)).prototype,"background",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(v.prototype,"gameNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(v.prototype,"clicks",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(v.prototype,"targetClicks",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=t(v.prototype,"playerHealth",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(v.prototype,"damagePerClick",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=t(v.prototype,"holeNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=v))||G));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});